const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./firebase-CYVISPkl.js","./iframe-DKRQQh4j.js","./index.esm-B6eNFOH0.js","./index.esm-BqhvDsTW.js","./firebase-enhanced-DlSyj2fS.js","./jsx-runtime-BTJTZTIL.js","./index-ChsGqxH_.js","./index-CJ_LmFaV.js","./_commonjsHelpers-D6-XlEtG.js","./Card-BhywAxIU.js","./index.esm-CYoZbgto.js"])))=>i.map(i=>d[i]);
import{j as d}from"./jsx-runtime-BTJTZTIL.js";import{_ as ue}from"./iframe-DKRQQh4j.js";import{r as y,R as T}from"./index-CJ_LmFaV.js";import{C as ce}from"./Card-BhywAxIU.js";/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ae(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ot({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bt(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function ln(n,e,t="/"){return zn(n,e,t,!1)}function zn(n,e,t,s){let o=typeof e=="string"?bt(e):e,r=de(o.pathname||"/",t);if(r==null)return null;let i=cn(n);Hn(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=ns(r);a=es(i[l],c,s)}return a}function cn(n,e=[],t=[],s="",o=!1){let r=(i,a,l=o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&l)return;J(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let f=ie([s,u.relativePath]),m=t.concat(u);i.children&&i.children.length>0&&(J(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),cn(i.children,e,m,f,l)),!(i.path==null&&!i.index)&&e.push({path:f,score:Zn(f,i.index),routesMeta:m})};return n.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of un(i.path))r(i,a,!0,c)}),e}function un(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),r=t.replace(/\?$/,"");if(s.length===0)return o?[r,""]:[r];let i=un(s.join("/")),a=[];return a.push(...i.map(l=>l===""?r:[r,l].join("/"))),o&&a.push(...i),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Hn(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Xn(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Gn=/^:[\w-]+$/,Kn=3,Wn=2,Yn=1,Jn=10,Qn=-2,Rt=n=>n==="*";function Zn(n,e){let t=n.split("/"),s=t.length;return t.some(Rt)&&(s+=Qn),e&&(s+=Wn),t.filter(o=>!Rt(o)).reduce((o,r)=>o+(Gn.test(r)?Kn:r===""?Yn:Jn),s)}function Xn(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function es(n,e,t=!1){let{routesMeta:s}=n,o={},r="/",i=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=r==="/"?e:e.slice(r.length)||"/",f=Be({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),m=l.route;if(!f&&c&&t&&!s[s.length-1].route.index&&(f=Be({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(o,f.params),i.push({params:o,pathname:ie([r,f.pathname]),pathnameBase:is(ie([r,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(r=ie([r,f.pathnameBase]))}return i}function Be(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=ts(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let r=o[0],i=r.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:s.reduce((c,{paramName:u,isOptional:f},m)=>{if(u==="*"){let v=a[m]||"";i=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[m];return f&&!x?c[u]=void 0:c[u]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:i,pattern:n}}function ts(n,e=!1,t=!0){ae(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ns(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ae(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function de(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function ss(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?bt(n):n;return{pathname:t?t.startsWith("/")?t:os(t,e):e,search:as(s),hash:ls(o)}}function os(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function et(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rs(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dn(n){let e=rs(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function mn(n,e,t,s=!1){let o;typeof n=="string"?o=bt(n):(o={...n},J(!o.pathname||!o.pathname.includes("?"),et("?","pathname","search",o)),J(!o.pathname||!o.pathname.includes("#"),et("#","pathname","hash",o)),J(!o.search||!o.search.includes("#"),et("#","search","hash",o)));let r=n===""||o.pathname==="",i=r?"/":o.pathname,a;if(i==null)a=t;else{let f=e.length-1;if(!s&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;o.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=ss(o,a),c=i&&i!=="/"&&i.endsWith("/"),u=(r||i===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var ie=n=>n.join("/").replace(/\/\/+/g,"/"),is=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),as=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ls=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cs(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var fn=["POST","PUT","PATCH","DELETE"];new Set(fn);var us=["GET",...fn];new Set(us);var xe=y.createContext(null);xe.displayName="DataRouter";var Je=y.createContext(null);Je.displayName="DataRouterState";y.createContext(!1);var pn=y.createContext({isTransitioning:!1});pn.displayName="ViewTransition";var ds=y.createContext(new Map);ds.displayName="Fetchers";var ms=y.createContext(null);ms.displayName="Await";var le=y.createContext(null);le.displayName="Navigation";var xt=y.createContext(null);xt.displayName="Location";var se=y.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var wt=y.createContext(null);wt.displayName="RouteError";function fs(n,{relative:e}={}){J(Qe(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=y.useContext(le),{hash:o,pathname:r,search:i}=Ie(n,{relative:e}),a=r;return t!=="/"&&(a=r==="/"?t:ie([t,r])),s.createHref({pathname:a,search:i,hash:o})}function Qe(){return y.useContext(xt)!=null}function he(){return J(Qe(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(xt).location}var hn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gn(n){y.useContext(le).static||y.useLayoutEffect(n)}function St(){let{isDataRoute:n}=y.useContext(se);return n?ks():ps()}function ps(){J(Qe(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(xe),{basename:e,navigator:t}=y.useContext(le),{matches:s}=y.useContext(se),{pathname:o}=he(),r=JSON.stringify(dn(s)),i=y.useRef(!1);return gn(()=>{i.current=!0}),y.useCallback((l,c={})=>{if(ae(i.current,hn),!i.current)return;if(typeof l=="number"){t.go(l);return}let u=mn(l,JSON.parse(r),o,c.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ie([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,r,o,n])}var hs=y.createContext(null);function gs(n){let e=y.useContext(se).outlet;return y.useMemo(()=>e&&y.createElement(hs.Provider,{value:n},e),[e,n])}function Ie(n,{relative:e}={}){let{matches:t}=y.useContext(se),{pathname:s}=he(),o=JSON.stringify(dn(t));return y.useMemo(()=>mn(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function ys(n,e,t,s,o){J(Qe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=y.useContext(le),{matches:i}=y.useContext(se),a=i[i.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let C=f&&f.path||"";yn(c,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let m=he(),x;x=m;let v=x.pathname||"/",b=v;if(u!=="/"){let C=u.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=ln(n,{pathname:b});return ae(f||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ae(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ss(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:ie([u,r.encodeLocation?r.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:ie([u,r.encodeLocation?r.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),i,t,s,o)}function vs(){let n=Rs(),e=cs(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",n),i=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:r},"ErrorBoundary")," or"," ",y.createElement("code",{style:r},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:o},t):null,i)}var bs=y.createElement(vs,null),xs=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?y.createElement(se.Provider,{value:this.props.routeContext},y.createElement(wt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ws({routeContext:n,match:e,children:t}){let s=y.useContext(xe);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(se.Provider,{value:n},t)}function Ss(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,i=t==null?void 0:t.errors;if(i!=null){let c=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);J(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,l=-1;if(t)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:m}=t,x=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||x){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,f)=>{let m,x=!1,v=null,b=null;t&&(m=i&&u.route.id?i[u.route.id]:void 0,v=u.route.errorElement||bs,a&&(l<0&&f===0?(yn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):l===f&&(x=!0,b=u.route.hydrateFallbackElement||null)));let k=e.concat(r.slice(0,f+1)),L=()=>{let C;return m?C=v:x?C=b:u.route.Component?C=y.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=c,y.createElement(ws,{match:u,routeContext:{outlet:c,matches:k,isDataRoute:t!=null},children:C})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?y.createElement(xs,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:L(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):L()},null)}function Ct(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cs(n){let e=y.useContext(xe);return J(e,Ct(n)),e}function Ns(n){let e=y.useContext(Je);return J(e,Ct(n)),e}function Ps(n){let e=y.useContext(se);return J(e,Ct(n)),e}function Nt(n){let e=Ps(n),t=e.matches[e.matches.length-1];return J(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Es(){return Nt("useRouteId")}function Rs(){var s;let n=y.useContext(wt),e=Ns("useRouteError"),t=Nt("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function ks(){let{router:n}=Cs("useNavigate"),e=Nt("useNavigate"),t=y.useRef(!1);return gn(()=>{t.current=!0}),y.useCallback(async(o,r={})=>{ae(t.current,hn),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...r}))},[n,e])}var kt={};function yn(n,e,t){!e&&!kt[n]&&(kt[n]=!0,ae(!1,t))}y.memo(Ls);function Ls({routes:n,future:e,state:t,unstable_onError:s}){return ys(n,void 0,t,s,e)}function Lt(n){return gs(n.context)}var Me="get",qe="application/x-www-form-urlencoded";function Ze(n){return n!=null&&typeof n.tagName=="string"}function _s(n){return Ze(n)&&n.tagName.toLowerCase()==="button"}function As(n){return Ze(n)&&n.tagName.toLowerCase()==="form"}function Os(n){return Ze(n)&&n.tagName.toLowerCase()==="input"}function Is(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function js(n,e){return n.button===0&&(!e||e==="_self")&&!Is(n)}var $e=null;function $s(){if($e===null)try{new FormData(document.createElement("form"),0),$e=!1}catch{$e=!0}return $e}var Ts=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tt(n){return n!=null&&!Ts.has(n)?(ae(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qe}"`),null):n}function Ds(n,e){let t,s,o,r,i;if(As(n)){let a=n.getAttribute("action");s=a?de(a,e):null,t=n.getAttribute("method")||Me,o=tt(n.getAttribute("enctype"))||qe,r=new FormData(n)}else if(_s(n)||Os(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(s=l?de(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Me,o=tt(n.getAttribute("formenctype"))||tt(a.getAttribute("enctype"))||qe,r=new FormData(a,n),!$s()){let{name:c,type:u,value:f}=n;if(u==="image"){let m=c?`${c}.`:"";r.append(`${m}x`,"0"),r.append(`${m}y`,"0")}else c&&r.append(c,f)}}else{if(Ze(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Me,s=null,o=qe,i=n}return r&&o==="text/plain"&&(i=r,r=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:r,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fs(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&de(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function Ms(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qs(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Us(n,e,t){let s=await Promise.all(n.map(async o=>{let r=e.routes[o.route.id];if(r){let i=await Ms(r,t);return i.links?i.links():[]}return[]}));return Hs(s.flat(1).filter(qs).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _t(n,e,t,s,o,r){let i=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var u;return t[c].pathname!==l.pathname||((u=t[c].route.path)==null?void 0:u.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return r==="assets"?e.filter((l,c)=>i(l,c)||a(l,c)):r==="data"?e.filter((l,c)=>{var f;let u=s.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(i(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Vs(n,e,{includeHydrateFallback:t}={}){return Bs(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let r=[o.module];return o.clientActionModule&&(r=r.concat(o.clientActionModule)),o.clientLoaderModule&&(r=r.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(r=r.concat(o.hydrateFallbackModule)),o.imports&&(r=r.concat(o.imports)),r}).flat(1))}function Bs(n){return[...new Set(n)]}function zs(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function Hs(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let r=JSON.stringify(zs(o));return t.has(r)||(t.add(r),s.push({key:r,link:o})),s},[])}function vn(){let n=y.useContext(xe);return Pt(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Gs(){let n=y.useContext(Je);return Pt(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Et=y.createContext(void 0);Et.displayName="FrameworkContext";function bn(){let n=y.useContext(Et);return Pt(n,"You must render this element inside a <HydratedRouter> element"),n}function Ks(n,e){let t=y.useContext(Et),[s,o]=y.useState(!1),[r,i]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,m=y.useRef(null);y.useEffect(()=>{if(n==="render"&&i(!0),n==="viewport"){let b=L=>{L.forEach(C=>{i(C.isIntersecting)})},k=new IntersectionObserver(b,{threshold:.5});return m.current&&k.observe(m.current),()=>{k.disconnect()}}},[n]),y.useEffect(()=>{if(s){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[s]);let x=()=>{o(!0)},v=()=>{o(!1),i(!1)};return t?n!=="intent"?[r,m,{}]:[r,m,{onFocus:Ne(a,x),onBlur:Ne(l,v),onMouseEnter:Ne(c,x),onMouseLeave:Ne(u,v),onTouchStart:Ne(f,x)}]:[!1,m,{}]}function Ne(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ws({page:n,...e}){let{router:t}=vn(),s=y.useMemo(()=>ln(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?y.createElement(Js,{page:n,matches:s,...e}):null}function Ys(n){let{manifest:e,routeModules:t}=bn(),[s,o]=y.useState([]);return y.useEffect(()=>{let r=!1;return Us(n,e,t).then(i=>{r||o(i)}),()=>{r=!0}},[n,e,t]),s}function Js({page:n,matches:e,...t}){let s=he(),{manifest:o,routeModules:r}=bn(),{basename:i}=vn(),{loaderData:a,matches:l}=Gs(),c=y.useMemo(()=>_t(n,e,l,o,s,"data"),[n,e,l,o,s]),u=y.useMemo(()=>_t(n,e,l,o,s,"assets"),[n,e,l,o,s]),f=y.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let v=new Set,b=!1;if(e.forEach(L=>{var j;let C=o.routes[L.route.id];!C||!C.hasLoader||(!c.some(N=>N.route.id===L.route.id)&&L.route.id in a&&((j=r[L.route.id])!=null&&j.shouldRevalidate)||C.hasClientLoader?b=!0:v.add(L.route.id))}),v.size===0)return[];let k=Fs(n,i,"data");return b&&v.size>0&&k.searchParams.set("_routes",e.filter(L=>v.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[i,a,s,o,c,e,n,r]),m=y.useMemo(()=>Vs(u,o),[u,o]),x=Ys(u);return y.createElement(y.Fragment,null,f.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),m.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),x.map(({key:v,link:b})=>y.createElement("link",{key:v,nonce:t.nonce,...b})))}function Qs(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xn&&(window.__reactRouterVersion="7.9.4")}catch{}var wn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=y.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:r,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...m},x){let{basename:v}=y.useContext(le),b=typeof c=="string"&&wn.test(c),k,L=!1;if(typeof c=="string"&&b&&(k=c,xn))try{let E=new URL(window.location.href),R=c.startsWith("//")?new URL(E.protocol+c):new URL(c),I=de(R.pathname,v);R.origin===E.origin&&I!=null?c=I+R.search+R.hash:L=!0}catch{ae(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=fs(c,{relative:o}),[j,N,O]=Ks(s,m),M=eo(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:o,viewTransition:f});function $(E){e&&e(E),E.defaultPrevented||M(E)}let P=y.createElement("a",{...m,...O,href:k||C,onClick:L||r?e:$,ref:Qs(x,N),target:l,"data-discover":!b&&t==="render"?"true":void 0});return j&&!b?y.createElement(y.Fragment,null,P,y.createElement(Ws,{page:C})):P});Sn.displayName="Link";var Cn=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:r,to:i,viewTransition:a,children:l,...c},u){let f=Ie(i,{relative:c.relative}),m=he(),x=y.useContext(Je),{navigator:v,basename:b}=y.useContext(le),k=x!=null&&ro(f)&&a===!0,L=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,C=m.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(C=C.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&b&&(j=de(j,b)||j);const N=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let O=C===L||!o&&C.startsWith(L)&&C.charAt(N)==="/",M=j!=null&&(j===L||!o&&j.startsWith(L)&&j.charAt(L.length)==="/"),$={isActive:O,isPending:M,isTransitioning:k},P=O?e:void 0,E;typeof s=="function"?E=s($):E=[s,O?"active":null,M?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let R=typeof r=="function"?r($):r;return y.createElement(Sn,{...c,"aria-current":P,className:E,ref:u,style:R,to:i,viewTransition:a},typeof l=="function"?l($):l)});Cn.displayName="NavLink";var Zs=y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:r,method:i=Me,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...m},x)=>{let v=so(),b=oo(a,{relative:c}),k=i.toLowerCase()==="get"?"get":"post",L=typeof a=="string"&&wn.test(a),C=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let N=j.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||i;v(N||j.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:o,state:r,relative:c,preventScrollReset:u,viewTransition:f})};return y.createElement("form",{ref:x,method:k,action:b,onSubmit:s?l:C,...m,"data-discover":!L&&n==="render"?"true":void 0})});Zs.displayName="Form";function Xs(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nn(n){let e=y.useContext(xe);return J(e,Xs(n)),e}function eo(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:r,viewTransition:i}={}){let a=St(),l=he(),c=Ie(n,{relative:r});return y.useCallback(u=>{if(js(u,e)){u.preventDefault();let f=t!==void 0?t:ot(l)===ot(c);a(n,{replace:f,state:s,preventScrollReset:o,relative:r,viewTransition:i})}},[l,a,c,t,s,e,n,o,r,i])}var to=0,no=()=>`__${String(++to)}__`;function so(){let{router:n}=Nn("useSubmit"),{basename:e}=y.useContext(le),t=Es();return y.useCallback(async(s,o={})=>{let{action:r,method:i,encType:a,formData:l,body:c}=Ds(s,e);if(o.navigate===!1){let u=o.fetcherKey||no();await n.fetch(u,t,o.action||r,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||i,formEncType:o.encType||a,flushSync:o.flushSync})}else await n.navigate(o.action||r,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||i,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function oo(n,{relative:e}={}){let{basename:t}=y.useContext(le),s=y.useContext(se);J(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),r={...Ie(n||".",{relative:e})},i=he();if(n==null){r.search=i.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();r.search=u?`?${u}`:""}}return(!n||n===".")&&o.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:ie([t,r.pathname])),ot(r)}function ro(n,{relative:e}={}){let t=y.useContext(pn);J(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Nn("useViewTransitionState"),o=Ie(n,{relative:e});if(!t.isTransitioning)return!1;let r=de(t.currentLocation.pathname,s)||t.currentLocation.pathname,i=de(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Be(o.pathname,i)!=null||Be(o.pathname,r)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ao=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),At=n=>{const e=ao(n);return e.charAt(0).toUpperCase()+e.slice(1)},Pn=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),lo=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var co={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=y.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:r,iconNode:i,...a},l)=>y.createElement("svg",{ref:l,...co,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:Pn("lucide",o),...!r&&!lo(a)&&{"aria-hidden":"true"},...a},[...i.map(([c,u])=>y.createElement(c,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(n,e)=>{const t=y.forwardRef(({className:s,...o},r)=>y.createElement(uo,{ref:r,iconNode:e,className:Pn(`lucide-${io(At(n))}`,`lucide-${n}`,s),...o}));return t.displayName=At(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],fo=B("anchor",mo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ho=B("award",po);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],yo=B("bell-off",go);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rt=B("bell",vo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xo=B("book-open",bo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],So=B("calendar",wo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],No=B("camera",Co);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Eo=B("chevron-right",Po);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ko=B("download",Ro);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],_o=B("flower",Lo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Oo=B("house",Ao);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jo=B("info",Io);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],To=B("log-out",$o);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ot=B("map-pin",Do);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mo=B("message-square",Fo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],Uo=B("package-search",qo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Bo=B("pencil",Vo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],En=B("qr-code",zo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Go=B("scan-line",Ho);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wo=B("send",Ko);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nt=B("shield-check",Yo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qo=B("shield",Jo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xo=B("star",Zo);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tr=B("sun",er);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rn=B("x",nr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],it=B("zap",sr);function or(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const It={};function at(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&It[e[0]]||(typeof e[0]=="string"&&(It[e[0]]=new Date),or(...e))}const kn=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function jt(n,e,t){n.loadNamespaces(e,kn(n,t))}function $t(n,e,t,s){typeof t=="string"&&(t=[t]),t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,kn(n,s))}function rr(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.languages[0],o=e.options?e.options.fallbackLng:!1,r=e.languages[e.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const i=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!i(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(s,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||i(s,n)&&(!o||i(r,n)))}function ir(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(at("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(o,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!r(o.isLanguageChangingTo,n))return!1}}):rr(n,e,t)}const ar=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lr={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},cr=n=>lr[n],ur=n=>n.replace(ar,cr);let lt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ur};function dr(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt={...lt,...n}}function mr(){return lt}let Ln;function fr(n){Ln=n}function pr(){return Ln}const hr={type:"3rdParty",init(n){dr(n.options.react),fr(n)}},gr=y.createContext();class yr{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const vr=(n,e)=>{const t=y.useRef();return y.useEffect(()=>{t.current=n},[n,e]),t.current};function _n(n,e,t,s){return n.getFixedT(e,t,s)}function br(n,e,t,s){return y.useCallback(_n(n,e,t,s),[n,e,t,s])}function we(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:s,defaultNS:o}=y.useContext(gr)||{},r=t||s||pr();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new yr),!r){at("You will need to pass in an i18next instance by using initReactI18next");const N=(M,$)=>typeof $=="string"?$:$&&typeof $=="object"&&typeof $.defaultValue=="string"?$.defaultValue:Array.isArray(M)?M[M.length-1]:M,O=[N,{},!1];return O.t=N,O.i18n={},O.ready=!1,O}r.options.react&&r.options.react.wait!==void 0&&at("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...mr(),...r.options.react,...e},{useSuspense:a,keyPrefix:l}=i;let c=o||r.options&&r.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(c);const u=(r.isInitialized||r.initializedStoreOnce)&&c.every(N=>ir(N,r,i)),f=br(r,e.lng||null,i.nsMode==="fallback"?c:c[0],l),m=()=>f,x=()=>_n(r,e.lng||null,i.nsMode==="fallback"?c:c[0],l),[v,b]=y.useState(m);let k=c.join();e.lng&&(k=`${e.lng}${k}`);const L=vr(k),C=y.useRef(!0);y.useEffect(()=>{const{bindI18n:N,bindI18nStore:O}=i;C.current=!0,!u&&!a&&(e.lng?$t(r,e.lng,c,()=>{C.current&&b(x)}):jt(r,c,()=>{C.current&&b(x)})),u&&L&&L!==k&&C.current&&b(x);function M(){C.current&&b(x)}return N&&r&&r.on(N,M),O&&r&&r.store.on(O,M),()=>{C.current=!1,N&&r&&N.split(" ").forEach($=>r.off($,M)),O&&r&&O.split(" ").forEach($=>r.store.off($,M))}},[r,k]),y.useEffect(()=>{C.current&&u&&b(m)},[r,l,u]);const j=[v,r,u];if(j.t=v,j.i18n=r,j.ready=u,u||!u&&!a)return j;throw new Promise(N=>{e.lng?$t(r,e.lng,c,()=>N()):jt(r,c,()=>N())})}var D=(n=>(n.Citizen="Citizen",n.NGO="NGO",n.PublicWorker="PublicWorker",n.Admin="Admin",n))(D||{}),Ue=(n=>(n.Food="Food",n.Shelter="Shelter",n.Medical="Medical",n.Emotional="Emotional",n.Legal="Legal",n.Employment="Employment",n))(Ue||{}),Ve=(n=>(n.Silent="Silent",n.Loud="Loud",n))(Ve||{}),X=(n=>(n.SilentHero="SilentHero",n.VoiceOfCompassion="VoiceOfCompassion",n.CommunityBuilder="CommunityBuilder",n.CommunityGift="CommunityGift",n.Ritual="Ritual",n))(X||{}),re=(n=>(n.Open="Open",n.Pending="Pending",n.Fulfilled="Fulfilled",n.Closed="Closed",n))(re||{}),fe=(n=>(n.Gold="Gold",n.Blue="Blue",n.Amber="Amber",n))(fe||{}),pe=(n=>(n.Spirals="Spirals",n.Lines="Lines",n.Waves="Waves",n))(pe||{}),An=(n=>(n.Volunteer="Volunteer",n.Event="Event",n))(An||{}),ct=(n=>(n.Food="Food",n.Health="Health",n.Legal="Legal",n.Education="Education",n.Shelter="Shelter",n))(ct||{});const xr={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class ze{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||xr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,o){return o&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ze(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ze(this.logger,e)}}var ne=new ze;class Xe{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(t)||0;this.observers[s].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(i=>{let[a,l]=i;for(let c=0;c<l;c++)a(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[a,l]=i;for(let c=0;c<l;c++)a.apply(a,[e,...s])})}}function Pe(){let n,e;const t=new Promise((s,o)=>{n=s,e=o});return t.resolve=n,t.reject=e,t}function Tt(n){return n==null?"":""+n}function wr(n,e,t){n.forEach(s=>{e[s]&&(t[s]=e[s])})}const Sr=/###/g;function _e(n,e,t){function s(a){return a&&a.indexOf("###")>-1?a.replace(Sr,"."):a}function o(){return!n||typeof n=="string"}const r=typeof e!="string"?e:e.split(".");let i=0;for(;i<r.length-1;){if(o())return{};const a=s(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return o()?{}:{obj:n,k:s(r[i])}}function Dt(n,e,t){const{obj:s,k:o}=_e(n,e,Object);if(s!==void 0||e.length===1){s[o]=t;return}let r=e[e.length-1],i=e.slice(0,e.length-1),a=_e(n,i,Object);for(;a.obj===void 0&&i.length;)r=`${i[i.length-1]}.${r}`,i=i.slice(0,i.length-1),a=_e(n,i,Object),a&&a.obj&&typeof a.obj[`${a.k}.${r}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${r}`]=t}function Cr(n,e,t,s){const{obj:o,k:r}=_e(n,e,Object);o[r]=o[r]||[],o[r].push(t)}function He(n,e){const{obj:t,k:s}=_e(n,e);if(t)return t[s]}function Nr(n,e,t){const s=He(n,t);return s!==void 0?s:He(e,t)}function On(n,e,t){for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?typeof n[s]=="string"||n[s]instanceof String||typeof e[s]=="string"||e[s]instanceof String?t&&(n[s]=e[s]):On(n[s],e[s],t):n[s]=e[s]);return n}function ve(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Pr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Er(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>Pr[e]):n}class Rr{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const kr=[" ",",","?","!",";"],Lr=new Rr(20);function _r(n,e,t){e=e||"",t=t||"";const s=kr.filter(i=>e.indexOf(i)<0&&t.indexOf(i)<0);if(s.length===0)return!0;const o=Lr.getRegExp(`(${s.map(i=>i==="?"?"\\?":i).join("|")})`);let r=!o.test(n);if(!r){const i=n.indexOf(t);i>0&&!o.test(n.substring(0,i))&&(r=!0)}return r}function ut(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const s=e.split(t);let o=n;for(let r=0;r<s.length;){if(!o||typeof o!="object")return;let i,a="";for(let l=r;l<s.length;++l)if(l!==r&&(a+=t),a+=s[l],i=o[a],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&l<s.length-1)continue;r+=l-r+1;break}o=i}return o}function Ge(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class Ft extends Xe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,i=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],s&&(Array.isArray(s)?a.push(...s):typeof s=="string"&&r?a.push(...s.split(r)):a.push(s)));const l=He(this.data,a);return!l&&!t&&!s&&e.indexOf(".")>-1&&(e=a[0],t=a[1],s=a.slice(2).join(".")),l||!i||typeof s!="string"?l:ut(this.data&&this.data[e]&&this.data[e][t],s,r)}addResource(e,t,s,o){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=[e,t];s&&(a=a.concat(i?s.split(i):s)),e.indexOf(".")>-1&&(a=e.split("."),o=t,t=a[1]),this.addNamespaces(t),Dt(this.data,a,o),r.silent||this.emit("added",e,t,s,o)}addResources(e,t,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in s)(typeof s[r]=="string"||Array.isArray(s[r]))&&this.addResource(e,t,r,s[r],{silent:!0});o.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,o,r){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),o=s,s=t,t=a[1]),this.addNamespaces(t);let l=He(this.data,a)||{};i.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?On(l,s,r):l={...l,...s},Dt(this.data,a,l),i.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var In={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,s,o){return n.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,t,s,o))}),e}};const Mt={};class Ke extends Xe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),wr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ne.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,t);return s&&s.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const i=s&&e.indexOf(s)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!_r(e,s,o);if(i&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:r};const c=e.split(s);(s!==o||s===o&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(o)}return typeof r=="string"&&(r=[r]),{key:e,namespaces:r}}translate(e,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:i,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const N=t.nsSeparator||this.options.nsSeparator;return o?{res:`${l}${N}${i}`,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${N}${i}`}return o?{res:i,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:i}const f=this.resolve(e,t);let m=f&&f.res;const x=f&&f.usedKey||i,v=f&&f.exactUsedKey||i,b=Object.prototype.toString.apply(m),k=["[object Number]","[object Function]","[object RegExp]"],L=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject;if(C&&m&&(typeof m!="string"&&typeof m!="boolean"&&typeof m!="number")&&k.indexOf(b)<0&&!(typeof L=="string"&&Array.isArray(m))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,m,{...t,ns:a}):`key '${i} (${this.language})' returned an object instead of string.`;return o?(f.res=N,f.usedParams=this.getUsedParamsDetails(t),f):N}if(r){const N=Array.isArray(m),O=N?[]:{},M=N?v:x;for(const $ in m)if(Object.prototype.hasOwnProperty.call(m,$)){const P=`${M}${r}${$}`;O[$]=this.translate(P,{...t,joinArrays:!1,ns:a}),O[$]===P&&(O[$]=m[$])}m=O}}else if(C&&typeof L=="string"&&Array.isArray(m))m=m.join(L),m&&(m=this.extendTranslation(m,e,t,s));else{let N=!1,O=!1;const M=t.count!==void 0&&typeof t.count!="string",$=Ke.hasDefaultValue(t),P=M?this.pluralResolver.getSuffix(c,t.count,t):"",E=t.ordinal&&M?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",R=M&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),I=R&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${P}`]||t[`defaultValue${E}`]||t.defaultValue;!this.isValidLookup(m)&&$&&(N=!0,m=I),this.isValidLookup(m)||(O=!0,m=i);const z=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:m,W=$&&I!==m&&this.options.updateMissing;if(O||N||W){if(this.logger.log(W?"updateKey":"missingKey",c,l,i,W?I:m),r){const Y=this.resolve(i,{...t,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let Y=0;Y<Q.length;Y++)G.push(Q[Y]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(t.lng||this.language):G.push(t.lng||this.language);const ge=(Y,A,K)=>{const me=$&&K!==m?K:z;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,l,A,me,W,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Y,l,A,me,W,t),this.emit("missingKey",Y,l,A,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?G.forEach(Y=>{const A=this.pluralResolver.getSuffixes(Y,t);R&&t[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(K=>{ge([Y],i+K,t[`defaultValue${K}`]||I)})}):ge(G,i,I))}m=this.extendTranslation(m,e,t,f,s),O&&m===i&&this.options.appendNamespaceToMissingKey&&(m=`${l}:${i}`),(O||N)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${i}`:i,N?m:void 0):m=this.options.parseMissingKeyHandler(m))}return o?(f.res=m,f.usedParams=this.getUsedParamsDetails(t),f):m}extendTranslation(e,t,s,o,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=typeof e=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const m=e.match(this.interpolator.nestingRegexp);u=m&&m.length}let f=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,s.lng||this.language,s),c){const m=e.match(this.interpolator.nestingRegexp),x=m&&m.length;u<x&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(s.lng=o.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,x=new Array(m),v=0;v<m;v++)x[v]=arguments[v];return r&&r[0]===x[0]&&!s.context?(i.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${t[0]}`),null):i.translate(...x,t)},s)),s.interpolation&&this.interpolator.reset()}const a=s.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(e=In.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,o,r,i,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(s))return;const c=this.extractFromKey(l,t),u=c.key;o=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const m=t.count!==void 0&&typeof t.count!="string",x=m&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),v=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",b=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(k=>{this.isValidLookup(s)||(a=k,!Mt[`${b[0]}-${k}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Mt[`${b[0]}-${k}`]=!0,this.logger.warn(`key "${o}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(L=>{if(this.isValidLookup(s))return;i=L;const C=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(C,u,L,k,t);else{let N;m&&(N=this.pluralResolver.getSuffix(L,t.count,t));const O=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(C.push(u+N),t.ordinal&&N.indexOf(M)===0&&C.push(u+N.replace(M,this.options.pluralSeparator)),x&&C.push(u+O)),v){const $=`${u}${this.options.contextSeparator}${t.context}`;C.push($),m&&(C.push($+N),t.ordinal&&N.indexOf(M)===0&&C.push($+N.replace(M,this.options.pluralSeparator)),x&&C.push($+O))}}let j;for(;j=C.pop();)this.isValidLookup(s)||(r=j,s=this.getResource(L,k,j,t))}))})}),{res:s,usedKey:o,exactUsedKey:r,usedLng:i,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,s,o):this.resourceStore.getResource(e,t,s,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&typeof e.replace!="string";let o=s?e.replace:e;if(s&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const r of t)delete o[r]}return o}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}function st(n){return n.charAt(0).toUpperCase()+n.slice(1)}class qt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ne.create("languageUtils")}getScriptPartFromCode(e){if(e=Ge(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ge(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let s=e.split("-");return this.options.lowerCaseLng?s=s.map(o=>o.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=st(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=st(s[1].toLowerCase())),t.indexOf(s[2].toLowerCase())>-1&&(s[2]=st(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(r=>{if(r===o)return r;if(!(r.indexOf("-")<0&&o.indexOf("-")<0)&&(r.indexOf("-")>0&&o.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===o||r.indexOf(o)===0&&o.length>1))return r})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],r=i=>{i&&(this.isSupportedCode(i)?o.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):typeof e=="string"&&r(this.formatLanguageCode(e)),s.forEach(i=>{o.indexOf(i)<0&&r(this.formatLanguageCode(i))}),o}}let Ar=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Or={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const Ir=["v1","v2","v3"],jr=["v4"],Ut={zero:0,one:1,two:2,few:3,many:4,other:5};function $r(){const n={};return Ar.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:Or[e.fc]}})}),n}class Tr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ne.create("pluralResolver"),(!this.options.compatibilityJSON||jr.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=$r()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Ge(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(o=>`${t}${o}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((o,r)=>Ut[o]-Ut[r]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):s.numbers.map(o=>this.getSuffix(e,o,t)):[]}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,s);return o?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:this.getSuffixRetroCompatible(o,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let o=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const r=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!Ir.includes(this.options.compatibilityJSON)}}function Vt(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=Nr(n,e,t);return!r&&o&&typeof t=="string"&&(r=ut(n,t,s),r===void 0&&(r=ut(e,t,s))),r}class Dr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ne.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:o,prefix:r,prefixEscaped:i,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:m,nestingPrefixEscaped:x,nestingSuffix:v,nestingSuffixEscaped:b,nestingOptionsSeparator:k,maxReplaces:L,alwaysFormat:C}=e.interpolation;this.escape=t!==void 0?t:Er,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=r?ve(r):i||"{{",this.suffix=a?ve(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?ve(m):x||ve("$t("),this.nestingSuffix=v?ve(v):b||ve(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=L||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t&&t.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,o){let r,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(v){return v.replace(/\$/g,"$$$$")}const u=v=>{if(v.indexOf(this.formatSeparator)<0){const C=Vt(t,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,s,{...o,...t,interpolationkey:v}):C}const b=v.split(this.formatSeparator),k=b.shift().trim(),L=b.join(this.formatSeparator).trim();return this.format(Vt(t,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),L,s,{...o,...t,interpolationkey:k})};this.resetRegExp();const f=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,m=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>c(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?c(this.escape(v)):c(v)}].forEach(v=>{for(a=0;r=v.regex.exec(e);){const b=r[1].trim();if(i=u(b),i===void 0)if(typeof f=="function"){const L=f(e,r,o);i=typeof L=="string"?L:""}else if(o&&Object.prototype.hasOwnProperty.call(o,b))i="";else if(m){i=r[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),i="";else typeof i!="string"&&!this.useRawValueToEscape&&(i=Tt(i));const k=v.safeValue(i);if(e=e.replace(r[0],k),m?(v.regex.lastIndex+=i.length,v.regex.lastIndex-=r[0].length):v.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,r,i;function a(l,c){const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let m=`{${f[1]}`;l=f[0],m=this.interpolate(m,i);const x=m.match(/'/g),v=m.match(/"/g);(x&&x.length%2===0&&!v||v.length%2!==0)&&(m=m.replace(/'/g,'"'));try{i=JSON.parse(m),c&&(i={...c,...i})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,b),`${l}${u}${m}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l}for(;o=this.nestingRegexp.exec(e);){let l=[];i={...s},i=i.replace&&typeof i.replace!="string"?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let c=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const u=o[1].split(this.formatSeparator).map(f=>f.trim());o[1]=u.shift(),l=u,c=!0}if(r=t(a.call(this,o[1].trim(),i),i),r&&o[0]===e&&typeof r!="string")return r;typeof r!="string"&&(r=Tt(r)),r||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),r=""),c&&(r=l.reduce((u,f)=>this.format(u,f,s.lng,{...s,interpolationkey:o[1].trim()}),r.trim())),e=e.replace(o[0],r),this.regexp.lastIndex=0}return e}}function Fr(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(i=>{if(i){const[a,...l]=i.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();t[u]||(t[u]=c),c==="false"&&(t[u]=!1),c==="true"&&(t[u]=!0),isNaN(c)||(t[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}}function be(n){const e={};return function(s,o,r){const i=o+JSON.stringify(r);let a=e[i];return a||(a=n(Ge(o),r),e[i]=a),a(s)}}class Mr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ne.create("formatter"),this.options=e,this.formats={number:be((t,s)=>{const o=new Intl.NumberFormat(t,{...s});return r=>o.format(r)}),currency:be((t,s)=>{const o=new Intl.NumberFormat(t,{...s,style:"currency"});return r=>o.format(r)}),datetime:be((t,s)=>{const o=new Intl.DateTimeFormat(t,{...s});return r=>o.format(r)}),relativetime:be((t,s)=>{const o=new Intl.RelativeTimeFormat(t,{...s});return r=>o.format(r,s.range||"day")}),list:be((t,s)=>{const o=new Intl.ListFormat(t,{...s});return r=>o.format(r)})},this.init(e)}init(e){const s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=be(t)}format(e,t,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((a,l)=>{const{formatName:c,formatOptions:u}=Fr(l);if(this.formats[c]){let f=a;try{const m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},x=m.locale||m.lng||o.locale||o.lng||s;f=this.formats[c](a,x,{...u,...o,...m})}catch(m){this.logger.warn(m)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}function qr(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class Ur extends Xe{constructor(e,t,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=ne.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,o.backend,o)}queueLoad(e,t,s,o){const r={},i={},a={},l={};return e.forEach(c=>{let u=!0;t.forEach(f=>{const m=`${c}|${f}`;!s.reload&&this.store.hasResourceBundle(c,f)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?i[m]===void 0&&(i[m]=!0):(this.state[m]=1,u=!1,i[m]===void 0&&(i[m]=!0),r[m]===void 0&&(r[m]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(a[c]=!0)}),(Object.keys(r).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(r),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,s){const o=e.split("|"),r=o[0],i=o[1];t&&this.emit("failedLoading",r,i,t),s&&this.store.addResourceBundle(r,i,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const a={};this.queue.forEach(l=>{Cr(l.loaded,[r],i),qr(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:o,wait:r,callback:i});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,o+1,r*2,i)},r);return}i(c,u)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const r=this.queueLoad(e,t,s,o);if(!r.toLoad.length)return r.pending.length||o(),null;r.toLoad.forEach(i=>{this.loadOne(i)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),o=s[0],r=s[1];this.read(o,r,"read",void 0,void 0,(i,a)=>{i&&this.logger.warn(`${t}loading namespace ${r} for language ${o} failed`,i),!i&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${o}`,a),this.loaded(e,i,a)})}saveMissing(e,t,s,o,r){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const l={...i,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,t,s,o,l):u=c(e,t,s,o),u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}else c(e,t,s,o,a,l)}!e||!e[0]||this.store.addResource(e[0],t,s,o)}}}function Bt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(o=>{t[o]=s[o]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function zt(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function Te(){}function Vr(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class Ae extends Xe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=zt(e),this.services={},this.logger=ne,this.modules={external:[]},Vr(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const o=Bt();this.options={...o,...this.options,...zt(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function r(u){return u?typeof u=="function"?new u:u:null}if(!this.options.isClone){this.modules.logger?ne.init(r(this.modules.logger),this.options):ne.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Mr);const f=new qt(this.options);this.store=new Ft(this.options.resources,this.options);const m=this.services;m.logger=ne,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new Tr(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(m.formatter=r(u),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Dr(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Ur(r(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(x){for(var v=arguments.length,b=new Array(v>1?v-1:0),k=1;k<v;k++)b[k-1]=arguments[k];e.emit(x,...b)}),this.modules.languageDetector&&(m.languageDetector=r(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=r(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Ke(this.services,this.options),this.translator.on("*",function(x){for(var v=arguments.length,b=new Array(v>1?v-1:0),k=1;k<v;k++)b[k-1]=arguments[k];e.emit(x,...b)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Te),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=Pe(),c=()=>{const u=(f,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),s(f,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te;const o=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const r=[],i=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};o?i(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>i(l)),this.options.preload&&this.options.preload.forEach(a=>i(a)),this.services.backendConnector.load(r,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(a)})}else s(null)}reloadResources(e,t,s){const o=Pe();return e||(e=this.languages),t||(t=this.options.ns),s||(s=Te),this.services.backendConnector.reload(e,t,r=>{o.resolve(),s(r)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&In.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;const o=Pe();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,o.resolve(function(){return s.t(...arguments)}),t&&t(l,function(){return s.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{i(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),o}getFixedT(e,t,s){var o=this;const r=function(i,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),f=2;f<c;f++)u[f-2]=arguments[f];l=o.options.overloadTranslationOptionHandler([i,a].concat(u))}else l={...a};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix=l.keyPrefix||s||r.keyPrefix;const m=o.options.keySeparator||".";let x;return l.keyPrefix&&Array.isArray(i)?x=i.map(v=>`${l.keyPrefix}${m}${v}`):x=l.keyPrefix?`${l.keyPrefix}${m}${i}`:i,o.t(x,l)};return typeof e=="string"?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=s,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const i=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(t.precheck){const a=t.precheck(this,i);if(a!==void 0)return a}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(s,e)&&(!o||i(r,e)))}loadNamespaces(e,t){const s=Pe();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=Pe();typeof e=="string"&&(e=[e]);const o=this.options.preload||[],r=e.filter(i=>o.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return r.length?(this.options.preload=o.concat(r),this.loadResources(i=>{s.resolve(),t&&t(i)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new qt(Bt());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ae(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},r=new Ae(o);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(a=>{r[a]=this[a]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},s&&(r.store=new Ft(this.store.data,o),r.services.resourceStore=r.store),r.translator=new Ke(r.services,o),r.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];r.emit(a,...c)}),r.init(o,t),r.translator.options=o,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const q=Ae.createInstance();q.createInstance=Ae.createInstance;q.createInstance;q.dir;q.init;q.loadResources;q.reloadResources;q.use;q.changeLanguage;q.getFixedT;q.t;q.exists;q.setDefaultNamespace;q.hasLoadedNamespace;q.loadNamespaces;q.loadLanguages;const{slice:Br,forEach:zr}=[];function Hr(n){return zr.call(Br.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}const Ht=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Gr=(n,e,t)=>{const s=t||{};s.path=s.path||"/";const o=encodeURIComponent(e);let r=`${n}=${o}`;if(s.maxAge>0){const i=s.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(i)}`}if(s.domain){if(!Ht.test(s.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${s.domain}`}if(s.path){if(!Ht.test(s.path))throw new TypeError("option path is invalid");r+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r},Gt={create(n,e,t,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),s&&(o.domain=s),document.cookie=Gr(n,encodeURIComponent(e),o)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let s=0;s<t.length;s++){let o=t[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(n){this.create(n,"",-1)}};var Kr={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Gt.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:s,cookieDomain:o,cookieOptions:r}=e;t&&typeof document<"u"&&Gt.create(t,n,s,o,r)}},Wr={name:"querystring",lookup(n){var s;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const i=o.substring(1).split("&");for(let a=0;a<i.length;a++){const l=i[a].indexOf("=");l>0&&i[a].substring(0,l)===e&&(t=i[a].substring(l+1))}}return t}};let Ee=null;const Kt=()=>{if(Ee!==null)return Ee;try{Ee=window!=="undefined"&&window.localStorage!==null;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Ee=!1}return Ee};var Yr={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Kt())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Kt()&&window.localStorage.setItem(t,n)}};let Re=null;const Wt=()=>{if(Re!==null)return Re;try{Re=window!=="undefined"&&window.sessionStorage!==null;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Re=!1}return Re};var Jr={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Wt())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&Wt()&&window.sessionStorage.setItem(t,n)}},Qr={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:s,language:o}=navigator;if(t)for(let r=0;r<t.length;r++)e.push(t[r]);s&&e.push(s),o&&e.push(o)}return e.length>0?e:void 0}},Zr={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(t=s.getAttribute("lang")),t}},Xr={name:"path",lookup(n){var o;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(o=t[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},ei={name:"subdomain",lookup(n){var o,r;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,s=typeof window<"u"&&((r=(o=window.location)==null?void 0:o.hostname)==null?void 0:r.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[t]}};function ti(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n}}class jn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=Hr(t,this.options||{},ti()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Kr),this.addDetector(Wr),this.addDetector(Yr),this.addDetector(Jr),this.addDetector(Qr),this.addDetector(Zr),this.addDetector(Xr),this.addDetector(ei)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let t=[];return e.forEach(s=>{if(this.detectors[s]){let o=this.detectors[s].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.map(s=>this.options.convertDetectedLanguage(s)),this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e,t){t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}jn.type="languageDetector";const ni="Mitché",si="حيث يتردد صدى الأمل",oi={close:"إغلاق"},ri={home:"الرئيسية",echoes:"صدى",resources:"موارد",events:"فعاليات",leaderboard:"المتصدرون",constellation:"الملف الشخصي",tapestry:"نسيج الأمل",admin:"الإدارة"},ii={welcome:"مرحباً بك في Mitché",startJourney:"ابدأ رحلتك",safeHavenTitle:"ملاذك الآمن",safeHavenDesc:"Mitché هو ملاذ آمن لتقديم وتلقي المساعدة مع الحفاظ على سرية الهوية. هنا، طلبات المساعدة هي 'أصداء'، وعروض الدعم هي 'عطايا'. هويتك محمية، مما يسمح للكرامة والرحمة بالازدهار.",agreement:"بالدخول، أنت توافق على مبدأ السرية والاحترام المتبادل الذي تقوم عليه منصتنا."},ai={modalTitle:"الدخول إلى الملاذ",login:"تسجيل الدخول",signup:"إنشاء حساب",username:"اسم المستخدم",password:"كلمة المرور",loginLoading:"...جاري الدخول",signupLoading:"...جاري الإنشاء",errorInvalid:"اسم المستخدم أو كلمة المرور غير صحيحة.",errorExists:"اسم المستخدم موجود بالفعل.",errorPassword:"الرجاء إدخال كلمة مرور.",errorUsernameRequired:"الرجاء إدخال اسم مستخدم.",errorSymbolicName:"الرجاء اختيار اسم رمزي.",identityChoiceInfo:"ستختار هويتك الرمزية بعد إنشاء حسابك.",role:"الدور",uploadDocs:"تحميل مستندات التحقق (إن وجدت)",documentsSelected:"مستندات مختارة",pendingApproval:"تم تقديم حسابك للمراجعة. سيقوم المسؤول بمراجعة المستندات والموافقة على حسابك قريبًا.",errorUsernameNotSelected:"الرجاء اختيار اسم مستخدم.",generatingUsernames:"جاري إنشاء أسماء فريدة...",chooseUsername:"اختر اسم المستخدم الخاص بك",refreshUsernames:"تحديث الأسماء",googleSignIn:"تسجيل الدخول عبر Google",googleSignInLoading:"جارٍ تسجيل الدخول عبر Google...",orDivider:"أو",errorGoogleSignIn:"فشل تسجيل الدخول عبر Google. الرجاء المحاولة مرة أخرى."},li={step1:{title:"مرحباً بك في Mitché",subtitle:"ملاذ يتردد فيه صدى الأمل. دعنا نستعرض المبادئ الأساسية التي تشكل عالمنا."},step2:{title:"الأصداء: نداءات الأمل",description:"عندما تحتاج إلى مساعدة، يمكنك إطلاق 'صدى'. إنه طلبك المجهول الذي يصل إلى المجتمع، كتموج في بركة هادئة."},step3:{title:"العطايا: بذور التعاطف",description:"يمكنك الرد على الأصداء بـ 'عطايا' - سواء كانت مساعدة مادية أو كلمات تشجيع. كل عطاء هو نور في الظلام."},step4:{title:"هويتك: حامل الأمل",description:"هنا، أنت معروف باسمك ورمزك الذي اخترته، مما يضمن الكرامة والأمان للجميع. هذا هو الدرع الذي يحمي هويتك الحقيقية."},step5:{title:"اصنع هويتك الرمزية",subtitle:"اختر الاسم والرمز اللذين سيمثلان نورك في هذا المجتمع.",chooseName:"اختر اسمك",chooseIcon:"اختر رمزك"},step6:{title:"أنت الآن جزء من النسيج",subtitle:"هذه هي هويتك كحامل للأمل. تذكر، خلف كل رمز يكمن قلب إنسان."},buttons:{begin:"ابدأ",next:"التالي",back:"رجوع",createIdentity:"اصنع هويتك",complete:"ادخل إلى الملاذ"},selectName:"-- اختر اسماً --",symbolicNames:{hopeBearer:"حامل الأمل",voiceOfLight:"صوت النور",helpingHand:"يد العون",morningStar:"نجمة الصباح",braveHeart:"قلب شجاع"}},ci={welcome:"أهلاً بك، {{name}}",quote:'"ليكن نورك صدى في هذا العالم"',tiles:{echoes:"جدار الصدى",echoesSub:"اطلب أو استجب للنداءات",events:"الفعاليات المجتمعية",eventsSub:"شارك في المبادرات المجتمعية",tapestry:"نسيج الأمل",tapestrySub:"اقرأ قصص الصمود"}},ui={title:"جدار الصدى",subtitle:"هنا ترتفع الأصوات وتتلاقى الأيادي",filter:"تصفية",allCategories:"كل الفئات",loading:"جاري تحميل الأصداء...",emptyTitle:"الجدار ملاذ للسكينة",emptySubtitle:"صمته علامة على أن الاحتياجات ملباة في الوقت الحالي. ستظهر الأصداء الجديدة عندما يطلقها أفراد المجتمع.",time:{just_now:"الآن",seconds_ago_one:"منذ ثانية واحدة",seconds_ago_two:"منذ ثانيتين",seconds_ago_few:"منذ {{count}} ثوان",seconds_ago_many:"منذ {{count}} ثانية",seconds_ago_other:"منذ {{count}} ثانية",minutes_ago_one:"منذ دقيقة واحدة",minutes_ago_two:"منذ دقيقتين",minutes_ago_few:"منذ {{count}} دقائق",minutes_ago_many:"منذ {{count}} دقيقة",minutes_ago_other:"منذ {{count}} دقيقة",hours_ago_one:"منذ ساعة واحدة",hours_ago_two:"منذ ساعتين",hours_ago_few:"منذ {{count}} ساعات",hours_ago_many:"منذ {{count}} ساعة",hours_ago_other:"منذ {{count}} ساعة",days_ago_one:"منذ يوم واحد",days_ago_two:"منذ يومين",days_ago_few:"منذ {{count}} أيام",days_ago_many:"منذ {{count}} يوماً",days_ago_other:"منذ {{count}} يوماً",months_ago_one:"منذ شهر واحد",months_ago_two:"منذ شهرين",months_ago_few:"منذ {{count}} أشهر",months_ago_many:"منذ {{count}} شهراً",months_ago_other:"منذ {{count}} شهراً",years_ago_one:"منذ سنة واحدة",years_ago_two:"منذ سنتين",years_ago_few:"منذ {{count}} سنوات",years_ago_many:"منذ {{count}} سنة",years_ago_other:"منذ {{count}} سنة"},card:{provideHelp:"تقديم مساعدة",sendEncouragement:"إرسال تشجيع",confirmReceipt:"تأكيد استلام المساعدة",claimHopePoints:"المطالبة بنقاط الأمل",waitingReceipt:"بانتظار تأكيد الاستلام"},helpModal:{titleHelp:"تقديم مساعدة",bodyHelp:"أنت على وشك بدء المساعدة في هذا الطلب. سيتم إخطار صاحب الطلب. الرجاء التواصل معه عبر الرقم أدناه للمتابعة.",phoneNumber:"📞 +961 71 123 456",dummyPhone:"(هذا رقم وهمي لأغراض العرض)",confirmHelp:"أؤكد، سأقوم بالمساعدة"},encourageModal:{title:"إرسال رسالة تشجيع",placeholder:"اكتب رسالتك هنا... كلماتك قد تكون الضوء الذي يحتاجه أحدهم.",send:"إرسال"}},di={title:"اطلق نداءك",subtitle:"كل طلب هو بذرة أمل. صف ما تحتاجه بصدق.",form:{title:"عنوان الطلب",titlePlaceholder:"مثال: بحاجة إلى دعم نفسي",category:"فئة الطلب",region:"المنطقة",regionPlaceholder:"مثال: بيروت",description:"وصف الطلب",descriptionPlaceholder:"اشرح طلبك بالتفصيل...",mode:"نوع الطلب",modeLoud:"طلب عالي (علني)",modeLoudDesc:"يظهر على جدار الصدى للجميع",modeSilent:"طلب صامت (خاص)",modeSilentDesc:"يُرسل فقط للمنظمات والجهات المعنية",submit:"إرسال الطلب"},discardTitle:"تجاهل الطلب؟",discardConfirm:"نعم، تجاهل",discardCancel:"إلغاء",discardBody:"هل أنت متأكد أنك تريد تجاهل هذا الطلب؟ لن يتم حفظ التغييرات التي قمت بها."},mi={starOfHope:"نجم في كوكبة الأمل",totalHopePoints:"مجموع نقاط الأمل",quote:'"كل نقطة هي شهادة على نورك"',breakdownTitle:"تفصيل نقاط الأمل",installApp:"تثبيت التطبيق",appInstalled:"تم تثبيت التطبيق",awardNominations:"ترشيحات الجوائز",privacySettings:"إعدادات الخصوصية",logout:"تسجيل الخروج",scanToGiveHope:"امسح لتهدي نقطة أمل",accessCamera:"الوصول إلى الكاميرا",cameraAccessGranted:"تم منح الوصول إلى الكاميرا!",cameraAccessDenied:"تم رفض الوصول إلى الكاميرا. يرجى التحقق من أذونات المتصفح.",cameraNotSupported:"الوصول إلى الكاميرا غير مدعوم في متصفحك.",yourEvents:"فعالياتك",noEvents:"لم تقم بإنشاء أي فعاليات بعد.",accolades:{title:"الأوسمة والشارات"},achievements:{firstEcho:{title:"الصدى الأول",description:"قمت بأول طلب مساعدة لك."},firstOffering:{title:"العطاء الأول",description:"قدمت أول مساعدة أو تشجيع."},compassionateVoice:{title:"صوت رحيم",description:"أرسلت 3 رسائل تشجيع."},communityPillar:{title:"عمود المجتمع",description:"أكملت مساعدة طلبين."},beaconOfHope:{title:"منارة أمل",description:"حصلت قصة كُرِّمت فيها على 10 أصداء."}},activity:{title:"النشاط الأخير",noActivity:"لا يوجد نشاط حديث لعرضه.",createdRequest:'أنشأت طلباً: "{{title}}"',helpedRequest:'ساعدت في طلب: "{{title}}"',sentEncouragement:'أرسلت تشجيعاً لـ: "{{title}}"',aRequest:"طلب"},editProfile:{title:"تعديل الملف الشخصي",location:"الموقع",locationPlaceholder:"مثال: بيروت، لبنان",bio:"نبذة تعريفية",bioPlaceholder:"أخبرنا القليل عن نفسك...",save:"حفظ التغييرات"},showQrCode:"رمز QR",qrCodeTitle:"رمز QR الخاص بك",qrCodeDesc:"شارك هذا الرمز للتواصل مع {{name}}.",qrCodeMissing:"احفظ ملفك الشخصي لإنشاء رمز QR.",notifications:{enable:"تفعيل الإشعارات",disable:"إلغاء تفعيل الإشعارات",loading:"جاري التحميل...",testTitle:"إرسال إشعار اختباري",unsupported:"الإشعارات الفورية غير مدعومة على هذا المتصفح."}},fi={title:"نسيج الأمل",subtitle:"أرشيف حي للصمود والتحول، منسوج من خيوط العطاء",threads:"خيوط",echoes:"أصداء",souls:"أرواح",filterAll:"الكل",filterBuilders:"بناة المجتمع",filterHeroes:"أبطال صامتون",filterVoices:"أصوات التعاطف",thread:"خيط",livesTouched:"أرواح تأثرت",echoStory:"صدى ({count})",emptyTitle:"لا توجد خيوط في هذا القسم بعد.",emptySubtitle:"لكن النسيج ينمو كل يوم بفضل أمثالك.",story:{revealed:"قصة أمل جديدة، كُشفت للعالم من خلال الشجاعة والرحمة.",anonymous:"وهج نجم صامت، شعر به الكثيرون، وعرفه القليلون. شهادة على القوة الهادئة."}},pi={noNomination:"لا يوجد ترشيح نشط.",title:"لقد وصل نورك إلى المعبد",subtitle:"تم ترشيحك لجائزة حامل الأمل. هل تود أن تخطو إلى الأمام، أم تبقى نجماً صامتاً؟",revealIdentity:"كشف الهوية",stayAnonymous:"البقاء مجهولاً",confirmRevealTitle:"تأكيد كشف الهوية",confirmRevealBody:'باختيارك كشف هويتك، سيتم عرض اسمك الحقيقي وصورتك بشكل علني على خيط قصتك في "نسيج الأمل". هذا العمل القوي يربط وجهاً بالأمل الذي ألهمته، مما يسمح للمجتمع برؤية الشخص خلف الاسم الرمزي والاحتفاء به. هل أنت مستعد للخطو نحو النور؟',confirmRevealButton:"نعم، أؤكد الكشف",back:"العودة",revealFormTitle:"الكشف عن هويتك",realName:"الاسم الحقيقي",realNamePlaceholder:"اسمك الذي سيظهر في الاحتفال",photo:"صورة شخصية (اختياري)",confirmAndContinue:"تأكيد ومتابعة",confirmAnonymousTitle:"تأكيد البقاء مجهولاً",confirmAnonymousBody:'باختيارك البقاء مجهولاً، سيستمر اسمك وأيقونتك الرمزية في تمثيلك في "نسيج الأمل". ستلهم قصتك الآخرين بينما تظل هويتك سراً ثميناً. هل هذا هو طريقك المختار؟',confirmAnonymousButton:"نعم، أؤكد إخفاء الهوية",finishedTitle:"سواء كان اسمك معروفاً أم لا، فإن إرثك خالد.",finishedSubtitle:"سيتم تكريم اختيارك بكل تبجيل واحترام.",viewTapestry:"شاهد نسيج الأمل"},hi={title:"الإشعارات",empty:"لا توجد إشعارات جديدة.",nomination:"لقد وصل نورك إلى المعبد. تم ترشيحك لجائزة حامل الأمل. هل تود أن تخطو إلى الأمام، أم تبقى نجماً صامتاً؟",encouragement:'رسالة تشجيع جديدة على طلبك "{{title}}..."',helpOffer:'مستخدم "{{name}}" بدأ بمساعدتك في طلبك "{{title}}...".',receiptConfirm:'صاحب الطلب "{{title}}..." أكد استلام المساعدة. يمكنك الآن المطالبة بنقاط الأمل.',fulfillment:'تمت تلبية طلبك "{{title}}..."! شكراً للمستخدم الذي ساعدك.',achievementUnlocked:"لقد حصلت على إنجاز: {{achievement}}!"},gi={Citizen:"مواطن",NGO:"منظمة غير حكومية",PublicWorker:"عامل في القطاع العام",Admin:"مدير"},yi={Food:"طعام",Shelter:"مأوى",Medical:"دعم طبي",Emotional:"دعم نفسي",Legal:"مساعدة قانونية",Employment:"فرصة عمل"},vi={SilentHero:"بطل صامت",VoiceOfCompassion:"صوت التعاطف",CommunityBuilder:"باني المجتمع",CommunityGift:"هدية مجتمعية",Ritual:"طقس"},bi={success:"اكتملت الطقوس اليومية — تم منح نقطة أمل!",error:"تعذر إكمال الطقس."},xi={title:"الحالة",Open:"مفتوح",Pending:"قيد المساعدة",Fulfilled:"تمت المساعدة",Closed:"مغلق"},wi={status:{scanning:"ابحث عن رمز QR...",processing:"جاري المعالجة...",noCamera:"لا يمكن الوصول إلى الكاميرا. يرجى التحقق من الأذونات."},success:{giftSent:"لقد أهديت نقطة أمل إلى {{name}}. لقد ربحت أيضاً نقطة واحدة!"},error:{notLoggedIn:"يجب عليك تسجيل الدخول للقيام بذلك.",selfGift:"لا يمكنك إعطاء نقطة لنفسك.",alreadyGiven:"لقد أهديت نقطتك اليومية بالفعل. حاول مرة أخرى غداً.",userNotFound:"لم يتم العثور على هذا المستخدم.",invalidQR:"هذا ليس رمز QR صالح لمستخدم Mitché."}},Si={title:"فعاليات المجتمع",subtitle:"فرص للتواصل والعطاء والمشاركة",emptyTitle:"كن شرارة التواصل",emptySubtitle:"لا توجد فعاليات مجدولة بعد. هذه فرصتك لجمع الناس معًا. أنشئ فعالية وعزز روابط مجتمعنا."},Ci={title:"إنشاء فعالية جديدة",subtitle:"اجمع المجتمع حول قضية أو نشاط.",form:{title:"عنوان الفعالية",titlePlaceholder:"مثال: حملة تنظيف الشاطئ",category:"نوع الفعالية",region:"المنطقة",regionPlaceholder:"مثال: بيروت",description:"وصف الفعالية",descriptionPlaceholder:"اشرح تفاصيل الفعالية، الزمان، المكان...",submit:"نشر الفعالية"},discardTitle:"تجاهل الفعالية؟",discardConfirm:"نعم، تجاهل",discardCancel:"إلغاء",discardBody:"هل أنت متأكد أنك تريد تجاهل هذه الفعالية؟ لن يتم حفظ التغييرات التي قمت بها."},Ni={Volunteer:"فرصة تطوع",Event:"فعالية"},Pi={title:"لوحة تحكم المدير",subtitle:"نظرة عامة على نشاط المنصة",loading:"جاري تحميل الإحصائيات...",totalUsers:"إجمالي المستخدمين",totalRequests:"إجمالي الطلبات",totalEvents:"إجمالي الفعاليات",userManagement:"إدارة المستخدمين",verificationRequests:"طلبات التوثيق",approve:"موافقة",reject:"رفض",noPendingRequests:"لا توجد طلبات توثيق معلقة."},Ei={title:"Sample Content",searchPlaceholder:"Search sample items...",noItems:"No items",addSuccess:"Item added",addError:"Failed to add item",deleteSuccess:"Item deleted",deleteError:"Failed to delete item",confirmDelete:"Delete item? This action cannot be undone.",showing:"عرض"},Ri={quickActions:"الإجراءات السريعة",recent:"الأحدث",noQuickActions:"لا توجد إجراءات سريعة متاحة"},ki={open:"افتح"},Li={title:"قائمة المتصدرين للأمل",subtitle:"تكريم حاملي الأمل الأكثر نشاطاً",rank:"الترتيب",bearer:"الحامل",points:"النقاط",yourPosition:"ترتيبك"},_i={title:"تفاصيل الطلب",notFound:"لم يتم العثور على الطلب.",backToWall:"العودة إلى جدار الصدى",requester:"صاحب الطلب",helper:"يتم المساعدة من قبل",postedOn:"نشر في",encouragementTitle:"كلمات التشجيع",noEncouragement:"كن أول من يرسل كلمة تشجيع.",detailsTitle:"التفاصيل"},Ai={subtitle:"مركزك الرئيسي للعمل المجتمعي والدعم.",metrics:{openRequests:"طلبات مفتوحة",silentRequests:"همسات صامتة",eventsOrganized:"فعاليات منظمة"},silentWhispers:{title:"همسات صامتة",subtitle:"طلبات سرية تحتاج إلى اهتمامك.",empty:"لا توجد طلبات صامتة في الوقت الحالي."},echoes:{title:"نظرة على جدار الصدى"},events:{title:"فعالياتك المجتمعية"},viewAll:"عرض الكل",createEvent:"إنشاء فعالية جديدة"},Oi={title:"مركز الموارد",subtitle:"ابحث عن دعم وخدمات مستمرة من شركائنا في المجتمع.",emptyTitle:"المركز ينمو",emptySubtitle:"ستقوم المنظمات الموثوقة بنشر مواردها المستمرة هنا قريباً."},Ii={title:"نشر مورد جديد",subtitle:"شارك بالخدمات المستمرة التي تقدمها منظمتك.",form:{title:"عنوان المورد",titlePlaceholder:"مثال: مطبخ مجتمعي أسبوعي",category:"الفئة",region:"المنطقة",regionPlaceholder:"مثال: بيروت",description:"الوصف",descriptionPlaceholder:"اشرح ما هو المورد، لمن هو موجه، وأي متطلبات.",schedule:"الجدول الزمني / الساعات",schedulePlaceholder:"مثال: كل ثلاثاء، 10 صباحاً - 1 ظهراً",contact:"معلومات الاتصال (اختياري)",contactPlaceholder:"مثال: رقم هاتف أو بريد إلكتروني",submit:"نشر المورد"}},ji={Food:"طعام",Health:"صحة",Legal:"مساعدة قانونية",Education:"تعليم",Shelter:"مأوى"},$i={title:"الثناءات المستلمة",leaveTitle:"اترك ثناء",leaveSubtitle:"كيف كانت تجربتك مع {{name}}؟",leaveButton:"اترك ثناء",submit:"إرسال الثناء",types:{Kind:"لطيف وعطوف",Punctual:"دقيق وموثوق",Respectful:"محترم ومراعي للخصوصية"},praisedFor:"أُثني عليه لكونه {{type}} {{count}} مرات"},Ti="منظمة موثوقة",Di={Pending:"قيد المراجعة",Approved:"موثق",Rejected:"مرفوض"},Fi={verificationPending:"حسابك قيد المراجعة للتوثيق. سيتم إعلامك عند اكتمال المراجعة.",verificationRejected:"تم رفض طلب توثيق حسابك. يرجى الاتصال بالدعم إذا كنت تعتقد أن هذا خطأ."},Mi={appName:ni,appSlogan:si,modal:oi,nav:ri,login:ii,auth:ai,onboarding:li,sanctuary:ci,echoes:ui,createRequest:di,constellation:mi,tapestry:fi,nomination:pi,notifications:hi,roles:gi,requestTypes:yi,hopePointCategories:vi,ritual:bi,requestStatus:xi,scanner:wi,events:Si,createEvent:Ci,communityEventTypes:Ni,admin:Pi,sampleContent:Ei,dashboard:Ri,common:ki,leaderboard:Li,requestDetail:_i,orgDashboard:Ai,resources:Oi,createResource:Ii,resourceCategories:ji,commendations:$i,verifiedOrg:Ti,verificationStatus:Di,profile:Fi},qi="Mitché",Ui="Where Hope Echoes",Vi={close:"Close modal"},Bi={home:"Home",echoes:"Echoes",resources:"Resources",events:"Events",leaderboard:"Leaderboard",constellation:"Profile",tapestry:"Hope Tapestry",admin:"Admin"},zi={welcome:"Welcome to Mitché",startJourney:"Start Your Journey",safeHavenTitle:"Your Safe Haven",safeHavenDesc:"Mitché is a safe haven for giving and receiving help while maintaining anonymity. Here, requests for help are 'Echoes', and offers of support are 'Offerings'. Your identity is protected, allowing dignity and compassion to flourish.",agreement:"By entering, you agree to the principles of confidentiality and mutual respect that our platform is built upon."},Hi={modalTitle:"Enter the Sanctuary",login:"Log In",signup:"Sign Up",username:"Username",password:"Password",loginLoading:"Logging in...",signupLoading:"Creating Account...",googleSignIn:"Continue with Google",googleSignInLoading:"Signing in with Google...",orDivider:"or",errorInvalid:"Incorrect username or password.",errorExists:"Username already exists.",errorPassword:"Please enter a password.",errorUsernameRequired:"Please enter a username.",errorSymbolicName:"Please choose a symbolic name.",errorGoogleSignIn:"Failed to sign in with Google. Please try again.",identityChoiceInfo:"You will choose your symbolic identity after creating your account.",role:"Role",uploadDocs:"Upload verification documents (if applicable)",documentsSelected:"documents selected",pendingApproval:"Your account has been submitted for review. An administrator will review your documents and approve your account shortly.",errorUsernameNotSelected:"Please select a username.",generatingUsernames:"Generating unique names...",chooseUsername:"Choose your username",refreshUsernames:"Refresh names"},Gi={step1:{title:"Welcome to Mitché",subtitle:"A sanctuary where hope echoes. Let's walk through the core principles that shape our world."},step2:{title:"Echoes: Calls of Hope",description:"When you need help, you cast an 'Echo'. It is your anonymous request that reaches the community, like a ripple in a quiet pond."},step3:{title:"Offerings: Seeds of Compassion",description:"You can respond to Echoes with 'Offerings' — either material help or words of encouragement. Each offering is a light in the darkness."},step4:{title:"Your Identity: A Hope Bearer",description:"Here, you are known by your chosen name and symbol, ensuring dignity and safety for all. This is the shield that protects your true identity."},step5:{title:"Forge Your Symbolic Identity",subtitle:"Choose the name and symbol that will represent your light in this community.",chooseName:"Choose Your Name",chooseIcon:"Choose Your Symbol"},step6:{title:"You Are Now Part of the Tapestry",subtitle:"This is your identity as a Hope Bearer. Remember, behind every symbol lies a human heart."},buttons:{begin:"Begin",next:"Next",back:"Back",createIdentity:"Create Your Identity",complete:"Enter the Sanctuary"},selectName:"-- Select a Name --",symbolicNames:{hopeBearer:"Hope Bearer",voiceOfLight:"Voice of Light",helpingHand:"Helping Hand",morningStar:"Morning Star",braveHeart:"Brave Heart"}},Ki={welcome:"Welcome, {{name}}",quote:'"May your light be an echo in this world"',tiles:{echoes:"Wall of Echoes",echoesSub:"Request or respond to calls",events:"Community Events",eventsSub:"Join initiatives and gatherings",tapestry:"Hope Tapestry",tapestrySub:"Read stories of resilience"}},Wi={title:"Wall of Echoes",subtitle:"Here, voices rise and hands meet",filter:"Filter",allCategories:"All Categories",loading:"Loading echoes...",emptyTitle:"The Wall is a Sanctuary of Peace",emptySubtitle:"Its silence is a sign that for now, needs are met. New echoes will appear as they are cast by the community.",time:{just_now:"just now",seconds_ago_one:"{{count}} second ago",seconds_ago_other:"{{count}} seconds ago",minutes_ago_one:"{{count}} minute ago",minutes_ago_other:"{{count}} minutes ago",hours_ago_one:"{{count}} hour ago",hours_ago_other:"{{count}} hours ago",days_ago_one:"{{count}} day ago",days_ago_other:"{{count}} days ago",months_ago_one:"{{count}} month ago",months_ago_other:"{{count}} months ago",years_ago_one:"{{count}} year ago",years_ago_other:"{{count}} years ago"},card:{provideHelp:"Provide Help",sendEncouragement:"Send Encouragement",confirmReceipt:"Confirm Receipt",claimHopePoints:"Claim Hope Points",waitingReceipt:"Awaiting Receipt"},helpModal:{titleHelp:"Provide Help",bodyHelp:"You are about to start helping with this request. The requester will be notified. Please contact them at the number below to proceed.",phoneNumber:"📞 +961 71 123 456",dummyPhone:"(This is a dummy number for demonstration purposes)",confirmHelp:"I Confirm, I Will Help"},encourageModal:{title:"Send a Message of Encouragement",placeholder:"Write your message here... Your words might be the light someone needs.",send:"Send"}},Yi={title:"Launch Your Echo",subtitle:"Every request is a seed of hope. Describe what you need with sincerity.",form:{title:"Request Title",titlePlaceholder:"e.g., In need of emotional support",category:"Request Category",region:"Region",regionPlaceholder:"e.g., Beirut",description:"Request Description",descriptionPlaceholder:"Explain your request in detail...",mode:"Request Mode",modeLoud:"Loud (Public)",modeLoudDesc:"Appears on the Wall of Echoes for everyone",modeSilent:"Silent (Private)",modeSilentDesc:"Sent only to relevant organizations and entities",submit:"Submit Request"},discardTitle:"Discard Request?",discardConfirm:"Yes, Discard",discardCancel:"Cancel",discardBody:"Are you sure you want to discard this request? Your changes will not be saved."},Ji={starOfHope:"A Star in the Constellation of Hope",totalHopePoints:"Total Hope Points",quote:'"Every point is a testament to your light"',breakdownTitle:"Hope Points Breakdown",installApp:"Install App",appInstalled:"App is installed",awardNominations:"Award Nominations",privacySettings:"Privacy Settings",logout:"Log Out",scanToGiveHope:"Scan to Give Hope",accessCamera:"Access Camera",cameraAccessGranted:"Camera access granted!",cameraAccessDenied:"Camera access denied. Please check your browser permissions.",cameraNotSupported:"Camera access is not supported on this browser.",yourEvents:"Your Events",noEvents:"You have not created any events yet.",accolades:{title:"Accolades & Badges"},achievements:{firstEcho:{title:"First Echo",description:"Made your first request for help."},firstOffering:{title:"First Offering",description:"Made your first offering of help or encouragement."},compassionateVoice:{title:"Compassionate Voice",description:"Sent 3 messages of encouragement."},communityPillar:{title:"Community Pillar",description:"Fulfilled 2 requests for help."},beaconOfHope:{title:"Beacon of Hope",description:"Your story received 10 echoes."}},activity:{title:"Recent Activity",noActivity:"No recent activity to show.",createdRequest:'You created a request: "{{title}}"',helpedRequest:'You helped with a request: "{{title}}"',sentEncouragement:'You sent encouragement for: "{{title}}"',aRequest:"a request"},editProfile:{title:"Edit Profile",location:"Location",locationPlaceholder:"e.g., Beirut, Lebanon",bio:"Bio",bioPlaceholder:"Tell us a little about yourself...",save:"Save Changes"},showQrCode:"QR Code",qrCodeTitle:"Your QR Code",qrCodeDesc:"Share this code to connect with {{name}}.",qrCodeMissing:"Save your profile to generate a QR code.",notifications:{enable:"Enable Push Notifications",disable:"Disable Push Notifications",loading:"Loading...",testTitle:"Send Test Notification",unsupported:"Push notifications are not supported on this browser."}},Qi={title:"Hope Tapestry",subtitle:"A living archive of resilience and transformation, woven from threads of giving",threads:"Threads",echoes:"Echoes",souls:"Souls",filterAll:"All",filterBuilders:"Community Builders",filterHeroes:"Silent Heroes",filterVoices:"Voices of Compassion",thread:"Thread",livesTouched:"Lives Touched",echoStory:"Echo ({{count}})",emptyTitle:"No threads in this section yet.",emptySubtitle:"But the tapestry grows every day, thanks to people like you.",story:{revealed:"A new story of hope, revealed to the world through courage and compassion.",anonymous:"The glow of a silent star, felt by many, known by few. A testament to quiet strength."}},Zi={noNomination:"No active nomination.",title:"Your Light Has Reached the Temple",subtitle:"You have been nominated for the Hope Bearer Award. Will you step forward, or remain a silent star?",revealIdentity:"Reveal Identity",stayAnonymous:"Stay Anonymous",confirmRevealTitle:"Confirm Identity Reveal",confirmRevealBody:"By choosing to reveal your identity, your real name and photo will be publicly displayed on your story's thread in the 'Hope Tapestry'. This powerful act connects a face to the hope you've inspired, allowing the community to see and celebrate the person behind the symbol. Are you ready to step into the light?",confirmRevealButton:"Yes, I Confirm Reveal",back:"Go Back",revealFormTitle:"Reveal Your Identity",realName:"Real Name",realNamePlaceholder:"Your name as it will appear in celebration",photo:"Profile Picture (Optional)",confirmAndContinue:"Confirm and Continue",confirmAnonymousTitle:"Confirm Remaining Anonymous",confirmAnonymousBody:"By choosing to remain anonymous, your symbolic name and icon will continue to represent you in the 'Hope Tapestry'. Your story will inspire others while your identity remains a cherished secret. Is this your chosen path?",confirmAnonymousButton:"Yes, I Confirm Anonymity",finishedTitle:"Whether your name is known or not, your legacy is eternal.",finishedSubtitle:"Your choice will be honored with all due reverence.",viewTapestry:"View the Hope Tapestry"},Xi={title:"Notifications",empty:"No new notifications.",nomination:"Your light has reached the temple. You've been nominated for the Hope Bearer award. Will you step forward, or remain a silent star?",encouragement:'New encouragement on your request "{{title}}..."',helpOffer:'User "{{name}}" has started helping with your request "{{title}}...".',receiptConfirm:'The requester of "{{title}}..." confirmed receipt of help. You can now claim your hope points.',fulfillment:'Your request "{{title}}..." has been fulfilled! Thanks to the user who helped you.'},ea={Citizen:"Citizen",NGO:"NGO",PublicWorker:"Public Worker",Admin:"Admin"},ta={Food:"Food",Shelter:"Shelter",Medical:"Medical Support",Emotional:"Emotional Support",Legal:"Legal Aid",Employment:"Job Opportunity"},na={SilentHero:"Silent Hero",VoiceOfCompassion:"Voice of Compassion",CommunityBuilder:"Community Builder",CommunityGift:"Community Gift",Ritual:"Ritual"},sa={title:"Status",Open:"Open",Pending:"Pending",Fulfilled:"Fulfilled",Closed:"Closed"},oa={status:{scanning:"Looking for a QR code...",processing:"Processing...",noCamera:"Could not access camera. Please check permissions."},success:{giftSent:"You gave 1 Hope Point to {{name}}. You also earned 1 point!"},error:{notLoggedIn:"You must be logged in to do this.",selfGift:"You cannot give a point to yourself.",alreadyGiven:"You have already given your daily point. Try again tomorrow.",userNotFound:"This user could not be found.",invalidQR:"This is not a valid Mitché user QR code."}},ra={success:"Daily ritual completed — Hope point awarded!",error:"Unable to complete the ritual."},ia={title:"Community Events",subtitle:"Opportunities to connect, give, and participate",emptyTitle:"Be the Spark of Connection",emptySubtitle:"No events are scheduled yet. This is your chance to bring people together. Create an event and foster our community bonds."},aa={title:"Create a New Event",subtitle:"Bring the community together around a cause or activity.",form:{title:"Event Title",titlePlaceholder:"e.g., Beach Cleanup Drive",category:"Event Type",region:"Region",regionPlaceholder:"e.g., Beirut",description:"Event Description",descriptionPlaceholder:"Explain the details of the event, time, location...",submit:"Publish Event"},discardTitle:"Discard Event?",discardConfirm:"Yes, Discard",discardCancel:"Cancel",discardBody:"Are you sure you want to discard this event? Your changes will not be saved."},la={Volunteer:"Volunteering Opportunity",Event:"Event"},ca={title:"Admin Dashboard",subtitle:"An overview of platform activity",loading:"Loading stats...",totalUsers:"Total Users",totalRequests:"Total Requests",totalEvents:"Total Events",userManagement:"All Users",verificationRequests:"Verification Requests",approve:"Approve",reject:"Reject",noPendingRequests:"No pending verification requests."},ua={title:"Sample Content",searchPlaceholder:"Search sample items...",noItems:"No items",addSuccess:"Item added",addError:"Failed to add item",deleteSuccess:"Item deleted",deleteError:"Failed to delete item",confirmDelete:"Delete item? This cannot be undone.",showing:"Showing"},da={quickActions:"Quick Actions",recent:"Recent",noQuickActions:"No quick actions available"},ma={open:"Open"},fa={title:"Hope Leaderboard",subtitle:"Celebrating the most active bearers of hope",rank:"Rank",bearer:"Bearer",points:"Points",yourPosition:"Your Position"},pa={title:"Request Details",notFound:"Request not found.",backToWall:"Back to Wall of Echoes",requester:"Requester",helper:"Being helped by",postedOn:"Posted",encouragementTitle:"Words of Encouragement",noEncouragement:"Be the first to send a word of encouragement.",detailsTitle:"Details"},ha={subtitle:"Your central hub for community action and support.",metrics:{openRequests:"Open Requests",silentRequests:"Silent Whispers",eventsOrganized:"Events Organized"},silentWhispers:{title:"Silent Whispers",subtitle:"Confidential requests needing your attention.",empty:"No silent requests at the moment."},echoes:{title:"Wall of Echoes Overview"},events:{title:"Your Community Events"},viewAll:"View All",createEvent:"Create New Event"},ga={title:"Resource Hub",subtitle:"Find continuous support and services from our community partners.",emptyTitle:"The Hub is Growing",emptySubtitle:"Verified organizations will post their ongoing resources here soon."},ya={title:"Post a New Resource",subtitle:"Share ongoing services your organization provides.",form:{title:"Resource Title",titlePlaceholder:"e.g., Weekly Community Kitchen",category:"Category",region:"Region",regionPlaceholder:"e.g., Beirut",description:"Description",descriptionPlaceholder:"Explain what the resource is, who it's for, and any requirements.",schedule:"Schedule / Hours",schedulePlaceholder:"e.g., Tuesdays, 10 AM - 1 PM",contact:"Contact Info (Optional)",contactPlaceholder:"e.g., Phone number or email",submit:"Publish Resource"}},va={Food:"Food",Health:"Health",Legal:"Legal Aid",Education:"Education",Shelter:"Shelter"},ba={title:"Commendations Received",leaveTitle:"Leave a Commendation",leaveSubtitle:"How was your experience with {{name}}?",leaveButton:"Leave Commendation",submit:"Send Commendation",types:{Kind:"Kind & Compassionate",Punctual:"Punctual & Reliable",Respectful:"Respectful & Discreet"},praisedFor:"Praised for being {{type}} {{count}} times"},xa="Verified Organization",wa={Pending:"Pending",Approved:"Approved",Rejected:"Rejected"},Sa={verificationPending:"Your account is pending verification. You will be notified when the review is complete.",verificationRejected:"Your account verification was rejected. Please contact support if you believe this is a mistake."},Ca={appName:qi,appSlogan:Ui,modal:Vi,nav:Bi,login:zi,auth:Hi,onboarding:Gi,sanctuary:Ki,echoes:Wi,createRequest:Yi,constellation:Ji,tapestry:Qi,nomination:Zi,notifications:Xi,roles:ea,requestTypes:ta,hopePointCategories:na,requestStatus:sa,scanner:oa,ritual:ra,events:ia,createEvent:aa,communityEventTypes:la,admin:ca,sampleContent:ua,dashboard:da,common:ma,leaderboard:fa,requestDetail:pa,orgDashboard:ha,resources:ga,createResource:ya,resourceCategories:va,commendations:ba,verifiedOrg:xa,verificationStatus:wa,profile:Sa},Na="Mitché",Pa="Où l'espoir résonne",Ea={close:"Fermer la fenêtre modale"},Ra={home:"Accueil",echoes:"Échos",resources:"Ressources",events:"Événements",leaderboard:"Classement",constellation:"Profil",tapestry:"Tapisserie de l'Espoir",admin:"Admin"},ka={welcome:"Bienvenue à Mitché",startJourney:"Commencez Votre Voyage",safeHavenTitle:"Votre Havre de Paix",safeHavenDesc:"Mitché est un havre de paix pour donner et recevoir de l'aide tout en préservant l'anonymat. Ici, les demandes d'aide sont des 'Échos', et les offres de soutien sont des 'Offrandes'. Votre identité est protégée, permettant à la dignité et à la compassion de s'épanouir.",agreement:"En entrant, vous acceptez les principes de confidentialité et de respect mutuel sur lesquels notre plateforme est bâtie."},La={modalTitle:"Entrer dans le Sanctuaire",login:"Connexion",signup:"Inscription",username:"Nom d'utilisateur",password:"Mot de passe",loginLoading:"Connexion en cours...",signupLoading:"Création du compte...",errorInvalid:"Nom d'utilisateur ou mot de passe incorrect.",errorExists:"Ce nom d'utilisateur existe déjà.",errorPassword:"Veuillez entrer un mot de passe.",errorUsernameRequired:"Veuillez entrer un nom d'utilisateur.",errorSymbolicName:"Veuillez choisir un nom symbolique.",identityChoiceInfo:"Vous choisirez votre identité symbolique après avoir créé votre compte.",role:"Rôle",uploadDocs:"Téléversez les documents de vérification (si nécessaire)",documentsSelected:"documents sélectionnés",pendingApproval:"Votre compte a été soumis pour examen. Un administrateur examinera vos documents et approuvera votre compte sous peu.",errorUsernameNotSelected:"Veuillez sélectionner un nom d'utilisateur.",generatingUsernames:"Génération de noms uniques...",chooseUsername:"Choisissez votre nom d'utilisateur",refreshUsernames:"Rafraîchir les noms",googleSignIn:"Se connecter avec Google",googleSignInLoading:"Connexion avec Google...",orDivider:"ou",errorGoogleSignIn:"Échec de la connexion avec Google. Veuillez réessayer."},_a={step1:{title:"Bienvenue à Mitché",subtitle:"Un sanctuaire où l'espoir résonne. Parcourons les principes fondamentaux qui façonnent notre monde."},step2:{title:"Échos : Appels d'Espoir",description:"Lorsque vous avez besoin d'aide, vous lancez un 'Écho'. C'est votre demande anonyme qui atteint la communauté, comme une onde dans un étang tranquille."},step3:{title:"Offrandes : Graines de Compassion",description:"Vous pouvez répondre aux Échos avec des 'Offrandes' - une aide matérielle ou des mots d'encouragement. Chaque offrande est une lumière dans l'obscurité."},step4:{title:"Votre Identité : Un Porteur d'Espoir",description:"Ici, vous êtes connu par le nom et le symbole que vous avez choisis, garantissant la dignité et la sécurité pour tous. C'est le bouclier qui protège votre véritable identité."},step5:{title:"Créez Votre Identité Symbolique",subtitle:"Choisissez le nom et le symbole qui représenteront votre lumière dans cette communauté.",chooseName:"Choisissez Votre Nom",chooseIcon:"Choisissez Votre Symbole"},step6:{title:"Vous Faites Maintenant Partie de la Tapisserie",subtitle:"Ceci est votre identité en tant que Porteur d'Espoir. Souvenez-vous, derrière chaque symbole se cache un cœur humain."},buttons:{begin:"Commencer",next:"Suivant",back:"Retour",createIdentity:"Créez Votre Identité",complete:"Entrer dans le Sanctuaire"},selectName:"-- Choisissez un Nom --",symbolicNames:{hopeBearer:"Porteur d'Espoir",voiceOfLight:"Voix de Lumière",helpingHand:"Main Tendue",morningStar:"Étoile du Matin",braveHeart:"Cœur Brave"}},Aa={welcome:"Bienvenue, {{name}}",quote:'"Que ta lumière soit un écho dans ce monde"',tiles:{echoes:"Mur des Échos",echoesSub:"Demandez ou répondez aux appels",events:"Événements Communautaires",eventsSub:"Participez à des initiatives",tapestry:"Tapisserie de l'Espoir",tapestrySub:"Lisez des histoires de résilience"}},Oa={title:"Mur des Échos",subtitle:"Ici, les voix s'élèvent et les mains se rencontrent",filter:"Filtrer",allCategories:"Toutes les catégories",loading:"Chargement des échos...",emptyTitle:"Le Mur est un Sanctuaire de Paix",emptySubtitle:"Son silence est un signe que, pour l'instant, les besoins sont comblés. De nouveaux échos apparaîtront dès qu'ils seront lancés par la communauté.",time:{just_now:"à l'instant",seconds_ago_one:"il y a {{count}} seconde",seconds_ago_other:"il y a {{count}} secondes",minutes_ago_one:"il y a {{count}} minute",minutes_ago_other:"il y a {{count}} minutes",hours_ago_one:"il y a {{count}} heure",hours_ago_other:"il y a {{count}} heures",days_ago_one:"il y a {{count}} jour",days_ago_other:"il y a {{count}} jours",months_ago_one:"il y a {{count}} mois",months_ago_other:"il y a {{count}} mois",years_ago_one:"il y a {{count}} an",years_ago_other:"il y a {{count}} ans"},card:{provideHelp:"Apporter de l'aide",sendEncouragement:"Envoyer un encouragement",confirmReceipt:"Confirmer la réception",claimHopePoints:"Réclamer des points d'espoir",waitingReceipt:"En attente de réception"},helpModal:{titleHelp:"Apporter de l'Aide",bodyHelp:"Vous êtes sur le point de commencer à aider pour cette demande. Le demandeur sera notifié. Veuillez le contacter au numéro ci-dessous pour continuer.",phoneNumber:"📞 +961 71 123 456",dummyPhone:"(Ceci est un numéro fictif à des fins de démonstration)",confirmHelp:"Je confirme, je vais aider"},encourageModal:{title:"Envoyer un Message d'Encouragement",placeholder:"Écrivez votre message ici... Vos mots pourraient être la lumière dont quelqu'un a besoin.",send:"Envoyer"}},Ia={title:"Lancez Votre Écho",subtitle:"Chaque demande est une graine d'espoir. Décrivez ce dont vous avez besoin avec sincérité.",form:{title:"Titre de la demande",titlePlaceholder:"Ex: Besoin de soutien émotionnel",category:"Catégorie de la demande",region:"Région",regionPlaceholder:"Ex: Beyrouth",description:"Description de la demande",descriptionPlaceholder:"Expliquez votre demande en détail...",mode:"Mode de la demande",modeLoud:"Fort (Public)",modeLoudDesc:"Apparaît sur le Mur des Échos pour tous",modeSilent:"Silencieux (Privé)",modeSilentDesc:"Envoyé uniquement aux organisations et entités concernées",submit:"Soumettre la demande"},discardTitle:"Annuler la demande ?",discardConfirm:"Oui, annuler",discardCancel:"Retour",discardBody:"Êtes-vous sûr de vouloir annuler cette demande ? Vos modifications ne seront pas enregistrées."},ja={starOfHope:"Une Étoile dans la Constellation de l'Espoir",totalHopePoints:"Total des Points d'Espoir",quote:'"Chaque point est un témoignage de votre lumière"',breakdownTitle:"Détail des Points d'Espoir",installApp:"Installer l'application",appInstalled:"Application installée",awardNominations:"Nominations aux prix",privacySettings:"Paramètres de confidentialité",logout:"Déconnexion",scanToGiveHope:"Scannez pour donner de l'espoir",accessCamera:"Accéder à la caméra",cameraAccessGranted:"Accès à la caméra autorisé !",cameraAccessDenied:"Accès à la caméra refusé. Veuillez vérifier les autorisations de votre navigateur.",cameraNotSupported:"L'accès à la caméra n'est pas pris en charge par votre navigateur.",yourEvents:"Vos Événements",noEvents:"Vous n'avez pas encore créé d'événements.",accolades:{title:"Distinctions & Badges"},achievements:{firstEcho:{title:"Premier Écho",description:"Vous avez fait votre première demande d'aide."},firstOffering:{title:"Première Offrande",description:"Vous avez offert de l'aide ou un encouragement pour la première fois."},compassionateVoice:{title:"Voix Compatissante",description:"Vous avez envoyé 3 messages d'encouragement."},communityPillar:{title:"Pilier de la Communauté",description:"Vous avez répondu à 2 demandes d'aide."},beaconOfHope:{title:"Phare d'Espoir",description:"Votre histoire a reçu 10 échos."}},activity:{title:"Activité Récente",noActivity:"Aucune activité récente à afficher.",createdRequest:'Vous avez créé une demande : "{{title}}"',helpedRequest:'Vous avez aidé avec une demande : "{{title}}"',sentEncouragement:'Vous avez envoyé un encouragement pour : "{{title}}"',aRequest:"une demande"},editProfile:{title:"Modifier le Profil",location:"Lieu",locationPlaceholder:"Ex: Beyrouth, Liban",bio:"Bio",bioPlaceholder:"Dites-nous en un peu plus sur vous...",save:"Enregistrer les modifications"},showQrCode:"QR Code",qrCodeTitle:"Votre QR Code",qrCodeDesc:"Partagez ce code pour vous connecter avec {{name}}.",qrCodeMissing:"Enregistrez votre profil pour générer un code QR.",notifications:{enable:"Activer les notifications push",disable:"Désactiver les notifications push",loading:"Chargement...",testTitle:"Envoyer une notification test",unsupported:"Les notifications push ne sont pas prises en charge sur ce navigateur."}},$a={title:"Tapisserie de l'Espoir",subtitle:"Une archive vivante de résilience et de transformation, tissée de fils de don",threads:"Fils",echoes:"Échos",souls:"Âmes",filterAll:"Tous",filterBuilders:"Bâtisseurs de Communauté",filterHeroes:"Héros Silencieux",filterVoices:"Voix de la Compassion",thread:"fil",livesTouched:"Vies Touchées",echoStory:"Écho ({{count}})",emptyTitle:"Aucun fil dans cette section pour le moment.",emptySubtitle:"Mais la tapisserie grandit chaque jour, grâce à des gens comme vous.",story:{revealed:"Une nouvelle histoire d'espoir, révélée au monde par le courage et la compassion.",anonymous:"L'éclat d'une étoile silencieuse, ressenti par beaucoup, connu de peu. Un témoignage de force tranquille."}},Ta={noNomination:"Aucune nomination active.",title:"Votre Lumière a Atteint le Temple",subtitle:"Vous avez été nominé pour le Prix du Porteur d'Espoir. Allez-vous vous avancer, ou rester une étoile silencieuse ?",revealIdentity:"Révéler l'Identité",stayAnonymous:"Rester Anonyme",confirmRevealTitle:"Confirmer la Révélation d'Identité",confirmRevealBody:"En choisissant de révéler votre identité, votre vrai nom et votre photo seront affichés publiquement sur le fil de votre histoire dans la 'Tapisserie de l'Espoir'. Cet acte puissant associe un visage à l'espoir que vous avez inspiré, permettant à la communauté de voir et de célébrer la personne derrière le symbole. Êtes-vous prêt à entrer dans la lumière ?",confirmRevealButton:"Oui, je confirme la révélation",back:"Retour",revealFormTitle:"Révéler Votre Identité",realName:"Vrai Nom",realNamePlaceholder:"Votre nom tel qu'il apparaîtra lors de la célébration",photo:"Photo de profil (Optionnel)",confirmAndContinue:"Confirmer et Continuer",confirmAnonymousTitle:"Confirmer le Maintien de l'Anonymat",confirmAnonymousBody:"En choisissant de rester anonyme, votre nom symbolique et votre icône continueront de vous représenter dans la 'Tapisserie de l'Espoir'. Votre histoire inspirera les autres tandis que votre identité restera un secret précieux. Est-ce le chemin que vous avez choisi ?",confirmAnonymousButton:"Oui, je confirme l'anonymat",finishedTitle:"Que votre nom soit connu ou non, votre héritage est éternel.",finishedSubtitle:"Votre choix sera honoré avec toute la révérence due.",viewTapestry:"Voir la Tapisserie de l'Espoir"},Da={title:"Notifications",empty:"Aucune nouvelle notification.",nomination:"Votre lumière a atteint le temple. Vous avez été nominé pour le prix du Porteur d'Espoir. Allez-vous vous avancer, ou rester une étoile silencieuse ?",encouragement:'Nouvel encouragement sur votre demande "{{title}}..."',helpOffer:`L'utilisateur "{{name}}" a commencé à aider avec votre demande "{{title}}...".`,receiptConfirm:`Le demandeur de "{{title}}..." a confirmé la réception de l'aide. Vous pouvez maintenant réclamer vos points d'espoir.`,fulfillment:`Votre demande "{{title}}..." a été satisfaite ! Merci à l'utilisateur qui vous a aidé.`},Fa={Citizen:"Citoyen",NGO:"ONG",PublicWorker:"Agent Public",Admin:"Admin"},Ma={Food:"Nourriture",Shelter:"Abri",Medical:"Soutien Médical",Emotional:"Soutien Émotionnel",Legal:"Aide Juridique",Employment:"Opportunité d'Emploi"},qa={SilentHero:"Héros Silencieux",VoiceOfCompassion:"Voix de la Compassion",CommunityBuilder:"Bâtisseur de Communauté",CommunityGift:"Don de la Communauté",Ritual:"Rituel"},Ua={success:"Rituel quotidien complété — Point d'espoir attribué !",error:"Impossible de compléter le rituel."},Va={title:"Statut",Open:"Ouvert",Pending:"En attente",Fulfilled:"Rempli",Closed:"Fermé"},Ba={status:{scanning:"Recherche d'un code QR...",processing:"Traitement...",noCamera:"Impossible d'accéder à la caméra. Veuillez vérifier les autorisations."},success:{giftSent:"Vous avez donné 1 Point d'Espoir à {{name}}. Vous avez aussi gagné 1 point !"},error:{notLoggedIn:"Vous devez être connecté pour faire cela.",selfGift:"Vous ne pouvez pas vous donner de point à vous-même.",alreadyGiven:"Vous avez déjà donné votre point quotidien. Réessayez demain.",userNotFound:"Cet utilisateur n'a pas pu être trouvé.",invalidQR:"Ceci n'est pas un code QR d'utilisateur Mitché valide."}},za={title:"Événements Communautaires",subtitle:"Opportunités de se connecter, donner et participer",emptyTitle:"Soyez l'Étincelle de la Connexion",emptySubtitle:"Aucun événement n'est encore programmé. C'est votre chance de rassembler les gens. Créez un événement et renforcez nos liens communautaires."},Ha={title:"Créer un Nouvel Événement",subtitle:"Rassemblez la communauté autour d'une cause ou d'une activité.",form:{title:"Titre de l'événement",titlePlaceholder:"Ex: Nettoyage de la plage",category:"Type d'événement",region:"Région",regionPlaceholder:"Ex: Beyrouth",description:"Description de l'événement",descriptionPlaceholder:"Expliquez les détails de l'événement, l'heure, le lieu...",submit:"Publier l'événement"},discardTitle:"Annuler l'événement ?",discardConfirm:"Oui, annuler",discardCancel:"Retour",discardBody:"Êtes-vous sûr de vouloir annuler cet événement ? Vos modifications ne seront pas enregistrées."},Ga={Volunteer:"Opportunité de bénévolat",Event:"Événement"},Ka={title:"Tableau de Bord Admin",subtitle:"Un aperçu de l'activité de la plateforme",loading:"Chargement des statistiques...",totalUsers:"Utilisateurs totaux",totalRequests:"Demandes totales",totalEvents:"Événements totaux",userManagement:"Tous les utilisateurs",verificationRequests:"Demandes de vérification",approve:"Approuver",reject:"Rejeter",noPendingRequests:"Aucune demande de vérification en attente."},Wa={title:"Classement de l'Espoir",subtitle:"Célébration des porteurs d'espoir les plus actifs",rank:"Rang",bearer:"Porteur",points:"Points",yourPosition:"Votre Position"},Ya={title:"Détails de la Demande",notFound:"Demande non trouvée.",backToWall:"Retour au Mur des Échos",requester:"Demandeur",helper:"Aidée par",postedOn:"Posté",encouragementTitle:"Mots d'Encouragement",noEncouragement:"Soyez le premier à envoyer un mot d'encouragement.",detailsTitle:"Détails"},Ja={subtitle:"Votre pôle central pour l'action et le soutien communautaire.",metrics:{openRequests:"Demandes Ouvertes",silentRequests:"Murmures Silencieux",eventsOrganized:"Événements Organisés"},silentWhispers:{title:"Murmures Silencieux",subtitle:"Demandes confidentielles nécessitant votre attention.",empty:"Aucune demande silencieuse pour le moment."},echoes:{title:"Aperçu du Mur des Échos"},events:{title:"Vos Événements Communautaires"},viewAll:"Voir Tout",createEvent:"Créer un Nouvel Événement"},Qa={title:"Centre de Ressources",subtitle:"Trouvez un soutien et des services continus de nos partenaires communautaires.",emptyTitle:"Le Centre se développe",emptySubtitle:"Les organisations vérifiées publieront bientôt leurs ressources ici."},Za={title:"Publier une Nouvelle Ressource",subtitle:"Partagez les services continus que votre organisation fournit.",form:{title:"Titre de la ressource",titlePlaceholder:"Ex: Cuisine communautaire hebdomadaire",category:"Catégorie",region:"Région",regionPlaceholder:"Ex: Beyrouth",description:"Description",descriptionPlaceholder:"Expliquez la ressource, à qui elle s'adresse et les exigences.",schedule:"Horaire / Heures",schedulePlaceholder:"Ex: Les mardis, 10h - 13h",contact:"Infos de contact (Optionnel)",contactPlaceholder:"Ex: Numéro de téléphone ou e-mail",submit:"Publier la ressource"}},Xa={Food:"Nourriture",Health:"Santé",Legal:"Aide juridique",Education:"Éducation",Shelter:"Abri"},el={title:"Recommandations Reçues",leaveTitle:"Laisser une recommandation",leaveSubtitle:"Comment s'est passée votre expérience avec {{name}}?",leaveButton:"Laisser une recommandation",submit:"Envoyer la recommandation",types:{Kind:"Aimable & Compatissant",Punctual:"Ponctuel & Fiable",Respectful:"Respectueux & Discret"},praisedFor:"Loué pour être {{type}} {{count}} fois"},tl="Organisation Vérifiée",nl={Pending:"En attente",Approved:"Approuvé",Rejected:"Rejeté"},sl={verificationPending:"Votre compte est en attente de vérification. Vous serez averti lorsque l'examen sera terminé.",verificationRejected:"La vérification de votre compte a été rejetée. Veuillez contacter le support si vous pensez qu'il s'agit d'une erreur."},ol={title:"Sample Content",searchPlaceholder:"Search sample items...",noItems:"No items",addSuccess:"Item added",addError:"Failed to add item",deleteSuccess:"Item deleted",deleteError:"Failed to delete item",confirmDelete:"Delete item? This action is irreversible.",showing:"Affichage"},rl={quickActions:"Actions rapides",recent:"Récents",noQuickActions:"Aucune action rapide disponible"},il={open:"Ouvrir"},al={appName:Na,appSlogan:Pa,modal:Ea,nav:Ra,login:ka,auth:La,onboarding:_a,sanctuary:Aa,echoes:Oa,createRequest:Ia,constellation:ja,tapestry:$a,nomination:Ta,notifications:Da,roles:Fa,requestTypes:Ma,hopePointCategories:qa,ritual:Ua,requestStatus:Va,scanner:Ba,events:za,createEvent:Ha,communityEventTypes:Ga,admin:Ka,leaderboard:Wa,requestDetail:Ya,orgDashboard:Ja,resources:Qa,createResource:Za,resourceCategories:Xa,commendations:el,verifiedOrg:tl,verificationStatus:nl,profile:sl,sampleContent:ol,dashboard:rl,common:il},ll={ar:{translation:Mi},en:{translation:Ca},fr:{translation:al}};q.use(jn).use(hr).init({resources:ll,fallbackLng:"ar",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]},react:{useSuspense:!0}});let De=null;async function oe(){return De||(De=(await ue(()=>import("./firebase-CYVISPkl.js").then(e=>e.y),__vite__mapDeps([0,1,2,3]),import.meta.url)).firebaseService,De)}const $n=T.createContext(void 0),Yt=["Silent","Hopeful","Golden","Brave","Kind","Guiding","Gentle","Mystic","Radiant","Shining"],Jt=["Star","Echo","River","Guardian","Light","Flower","Stone","Heart","Voice","Hand"],Qt=({children:n})=>{const[e,t]=T.useState(null),[s,o]=T.useState(!0),[r,i]=T.useState(!1),a=T.useRef(null),[l,c]=T.useState(null);T.useEffect(()=>{let P=!0;return ue(()=>import("./firebase-enhanced-DlSyj2fS.js"),__vite__mapDeps([4,3,2,0,1,5,6,7,8,9]),import.meta.url).then(E=>{if(!P)return;const R=E&&E.enhancedFirebaseService?E.enhancedFirebaseService:E&&E.EnhancedFirebaseService?new E.EnhancedFirebaseService:null;c(R)}).catch(E=>console.warn("Failed to load enhancedFirebaseService dynamically",E)),()=>{P=!1}},[]),T.useEffect(()=>{const P=async()=>{try{const R=await oe();a.current=R.onAuthStateChange(I=>{if(console.debug("Auth state changed, firebaseUser:",I),i(!!I),o(!1),I){const U=R.subscribeToUser(I.id,z=>{t(z)});a.current=()=>{U()}}else t(null)}),console.debug("Initialized auth listener; waiting briefly for Firebase to populate state"),setTimeout(()=>{r||E()},2e3)}catch(R){console.warn("Firebase not available, using localStorage:",R),E()}},E=()=>{try{const R=localStorage.getItem("michyUser");if(R){const I=JSON.parse(R);if(I&&I.id&&I.username){const z=u().find(W=>W.id===I.id);z?t(z):localStorage.removeItem("michyUser")}else localStorage.removeItem("michyUser")}}catch(R){console.error("Failed to parse user from localStorage",R),localStorage.removeItem("michyUser")}finally{o(!1)}};return P(),()=>{a.current&&a.current()}},[]);const u=()=>{try{const P=localStorage.getItem("mitcheUsers");return P?JSON.parse(P):[]}catch(P){return console.error("Failed to parse users from localStorage",P),[]}},f=P=>{try{localStorage.setItem("mitcheUsers",JSON.stringify(P))}catch(E){console.error("Failed to save users to localStorage",E)}},m=async(P,E)=>{if(!P.trim()||!E.trim())return{success:!1,message:q.t("auth.errorInvalid")};if(r){const R=P.includes("@")?P:`${P}@mitche.local`;return await(await oe()).signInWithEmailPassword(R,E)}else{const I=u().find(U=>U.username.toLowerCase()===P.toLowerCase()&&U.password===E);if(I)try{return localStorage.setItem("michyUser",JSON.stringify(I)),t(I),{success:!0}}catch(U){return console.error("Failed to save user to localStorage during login",U),{success:!1,message:"Storage error occurred"}}return{success:!1,message:q.t("auth.errorInvalid")}}},x=async(P,E,R)=>{if(!P.trim()||!E.trim())return{success:!1,message:q.t("auth.errorInvalid")};if(P.length<3)return{success:!1,message:"Username must be at least 3 characters"};if(E.length<4)return{success:!1,message:"Password must be at least 4 characters"};let I=(R==null?void 0:R.role)||D.Citizen,U="NotRequested";if(R!=null&&R.role)(I===D.NGO||I===D.PublicWorker)&&(U="Pending");else{const z=P.toUpperCase();z.includes("NGO")?(I=D.NGO,U="Pending"):z.includes("GOV")||z.includes("GOVERNMENT")?(I=D.PublicWorker,U="Pending"):z.includes("ADMIN")&&(I=D.Admin,U="Approved")}if(r){const z=P.includes("@")?P:`${P}@mitche.local`,W=await oe(),G=await W.createUserWithEmailPassword(z,E,{username:P.trim(),role:I,verificationStatus:U,symbolicName:"",symbolicIcon:"",hopePoints:0,hopePointsBreakdown:{},hasCompletedOnboarding:!1,isVerified:I===D.Admin,commendations:{Kind:0,Punctual:0,Respectful:0}});if(G.success&&(R!=null&&R.submittedFiles)&&R.submittedFiles.length>0)try{const Q=await W.uploadDocuments(G.user.id,R.submittedFiles);Q&&Q.length>0&&await W.updateUser(G.user.id,{submittedDocuments:Q,verificationStatus:"Pending"})}catch(Q){console.error("Document upload during signup failed:",Q)}return G}else{const z=u();if(z.find(G=>G.username.toLowerCase()===P.toLowerCase()))return{success:!1,message:q.t("auth.errorExists")};const W={id:`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,username:P.trim(),password:E.trim(),symbolicName:"",symbolicIcon:"",role:I,hopePoints:0,hopePointsBreakdown:{},hasCompletedOnboarding:!1,isVerified:I===D.Admin,verificationStatus:U,submittedDocuments:(R==null?void 0:R.submittedDocuments)||[],commendations:{Kind:0,Punctual:0,Respectful:0}};try{return z.push(W),f(z),await m(P,E)}catch(G){return console.error("Failed to create user",G),{success:!1,message:"Failed to create account"}}}},v=async()=>{try{const P=await oe();return!P||typeof P.signInWithGoogle!="function"?{success:!1,message:"Google sign-in requires Firebase authentication"}:await P.signInWithGoogle()}catch(P){return console.error("Error signing in with Google:",P),{success:!1,message:(P==null?void 0:P.message)||"Google sign-in requires Firebase authentication"}}},b=async()=>{try{r?await(await oe()).signOut():(localStorage.removeItem("michyUser"),t(null))}catch(P){console.error("Error during logout",P)}},k=async P=>{if(e)if(r)await(await oe()).updateUser(e.id,P)&&t({...e,...P});else{const E={...e,...P};t(E),localStorage.setItem("michyUser",JSON.stringify(E));const R=u(),I=R.findIndex(U=>U.id===E.id);I!==-1&&(R[I]=E,f(R))}},L=(P,E)=>{if(!e)return;const R={...e,hopePoints:e.hopePoints+P,hopePointsBreakdown:{...e.hopePointsBreakdown,[E]:(e.hopePointsBreakdown[E]||0)+P}};k(R)},C=P=>{if(!r)return u().find(R=>R.id===P)},j=P=>{if(r)oe().then(E=>E.updateUser(P.id,P)).catch(E=>console.error("updateAnyUser failed",E));else{const E=u(),R=E.findIndex(I=>I.id===P.id);R!==-1&&(E[R]=P,f(E),e&&e.id===P.id&&(t(P),localStorage.setItem("michyUser",JSON.stringify(P))))}},N=(P,E)=>{if(r)oe().then(R=>R.updateUser(P,{verificationStatus:E,isVerified:E==="Approved"})).catch(R=>console.error("updateVerificationStatus failed",R));else{const R=u(),I=R.findIndex(U=>U.id===P);I!==-1&&(R[I].verificationStatus=E,R[I].isVerified=E==="Approved",f(R),e&&e.id===P&&(t(R[I]),localStorage.setItem("michyUser",JSON.stringify(R[I]))))}},O=()=>r?[]:u(),M=()=>{const P=r?[]:u(),E=new Set(P.map(U=>U.username.toLowerCase())),R=new Set;let I=0;for(;R.size<5&&I<50;){const U=Yt[Math.floor(Math.random()*Yt.length)],z=Jt[Math.floor(Math.random()*Jt.length)],W=Math.floor(100+Math.random()*900),G=`${U}${z}_${W}`;E.has(G.toLowerCase())||R.add(G),I++}return Array.from(R)},$=async()=>{r?(await(await oe()).migrateFromLocalStorage(),console.log("Migration to Firebase completed!")):console.warn("Firebase not available for migration")};return d.jsx($n.Provider,{value:{user:e,isLoading:s,isFirebaseEnabled:r,login:m,signup:x,signInWithGoogle:v,logout:b,addHopePoints:L,updateUser:k,getUserById:C,updateAnyUser:j,getAllUsers:O,generateUniqueUsernames:M,updateVerificationStatus:N,migrateToFirebase:$,enhancedFirebase:l},children:n})},Se=()=>{const n=T.useContext($n);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};try{Qt.displayName="AuthProvider",Qt.__docgenInfo={description:"",displayName:"AuthProvider",props:{}}}catch{}const dt=()=>{const{t:n}=we(),{user:e}=Se(),s=[{path:"/",label:n("nav.home"),icon:Oo,roles:[D.Citizen,D.NGO,D.PublicWorker,D.Admin]},{path:"/echoes",label:n("nav.echoes"),icon:Mo,roles:[D.Citizen,D.NGO,D.PublicWorker,D.Admin]},{path:"/resources",label:n("nav.resources"),icon:Uo,roles:[D.Citizen,D.NGO,D.PublicWorker,D.Admin]},{path:"/events",label:n("nav.events"),icon:So,roles:[D.Citizen,D.NGO,D.PublicWorker,D.Admin]},{path:"/ritual",label:n("nav.ritual","Daily Ritual"),icon:it,roles:[D.Citizen,D.NGO,D.PublicWorker,D.Admin]},{path:"/admin",label:n("nav.admin"),icon:Qo,roles:[D.Admin]}].filter(o=>e&&o.roles.includes(e.role));return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#FFFDF9] border-t border-[#EAE2D6] shadow-md z-10",children:d.jsx("div",{className:"flex justify-around max-w-lg mx-auto",children:s.map(({path:o,label:r,icon:i})=>d.jsxs(Cn,{to:o,end:o==="/",className:({isActive:a})=>`flex flex-col items-center justify-center w-full py-3 transition-colors duration-300 ${a?"text-amber-700 bg-amber-100 font-semibold":"text-gray-500 hover:text-amber-600"}`,children:[d.jsx(i,{size:24}),d.jsx("span",{className:"text-xs mt-1",children:r})]},o))})})};try{dt.displayName="BottomNav",dt.__docgenInfo={description:"",displayName:"BottomNav",props:{}}}catch{}const cl=[{id:"demo_req_1",userSymbolicName:"Sample_Hope",userSymbolicIcon:"Lantern",title:"Need help with groceries",description:"Looking for short-term food assistance for the week.",type:"Food",mode:"Loud",timestamp:new Date,region:"Sample City",status:"Open"}],ul=[{id:"demo_evt_1",organizerSymbolicName:"Sample_NGO",organizerSymbolicIcon:"Lantern",title:"Community Clean-up",description:"Join us to clean the local park and share a meal.",timestamp:new Date,region:"Sample City",type:"Volunteer"}],dl=[{id:"demo_res_1",organizerSymbolicName:"Sample_Resource",organizerSymbolicIcon:"Star",title:"Free legal clinic",description:"Volunteer lawyers offering first-line advice every month.",category:"Legal",region:"Sample City",schedule:"First Friday, 09:00 - 13:00",timestamp:new Date}];let Fe=null;async function H(){return Fe||(Fe=(await ue(()=>import("./firebase-CYVISPkl.js").then(e=>e.y),__vite__mapDeps([0,1,2,3]),import.meta.url)).firebaseService,Fe)}const Tn=T.createContext(void 0),ml=[{id:"req_1",userId:"user_123",userSymbolicName:"Bearer_324",userSymbolicIcon:"Star",title:"بحاجة إلى دعم نفسي",description:"أمر بفترة صعبة وأحتاج لمن أتحدث معه بسرية تامة. الشعور بالوحدة يقتلني.",type:Ue.Emotional,mode:Ve.Loud,timestamp:new Date(Date.now()-864e5*1),region:"بيروت",status:re.Open,isConfirmedByRequester:!1,requesterCommended:!1,helperCommended:!1},{id:"req_2",userId:"user_456",userSymbolicName:"صوت_النور",userSymbolicIcon:"Lantern",title:"مساعدة في تأمين مأوى مؤقت",description:"عائلتي فقدت منزلها وتحتاج إلى مكان آمن لبضعة أيام حتى نجد حلاً دائماً.",type:Ue.Shelter,mode:Ve.Loud,timestamp:new Date(Date.now()-864e5*2),region:"طرابلس",status:re.Fulfilled,helperId:"user_789",isConfirmedByRequester:!0,requesterCommended:!1,helperCommended:!1},{id:"req_3",userId:"user_789",userSymbolicName:"يد_العون",userSymbolicIcon:"Flower",title:"مساعدة في الحصول على دواء",description:"والدتي بحاجة ماسة إلى دواء للقلب ولا أستطيع تحمل تكلفته هذا الشهر.",type:Ue.Medical,mode:Ve.Silent,timestamp:new Date(Date.now()-864e5*3),region:"صيدا",status:re.Pending,helperId:"user_123",isConfirmedByRequester:!1,requesterCommended:!1,helperCommended:!1}],fl=[{id:"offering_1",userId:"user_789",requestId:"req_1",type:"Encouragement",message:"أنت لست وحدك. القوة تكمن في طلب المساعدة. أتمنى لك السلام والطمأنينة.",timestamp:new Date(Date.now()-864e5*.5),pointsEarned:3},{id:"offering_2",userId:"user_123",requestId:"req_3",type:"Encouragement",message:"أتمنى لوالدتك الشفاء العاجل. لا تفقد الأمل، فالخير موجود.",timestamp:new Date(Date.now()-864e5*2.5),pointsEarned:3}],pl=[{id:"evt_1",organizerId:"user_ngo_1",organizerSymbolicName:"بناة_الغد",organizerSymbolicIcon:"Lantern",organizerRole:D.NGO,title:"فرصة تطوع لتنظيف الشاطئ",description:"ندعوكم للمشاركة في حملة تنظيف شاطئ الرملة البيضاء يوم السبت القادم. معاً نعيد لبيروت رونقها. نوفر الأدوات والمياه للمشاركين.",type:An.Volunteer,timestamp:new Date(Date.now()-864e5*.5),region:"بيروت",organizerIsVerified:!0}],hl=[{id:"res_1",organizerId:"user_ngo_1",organizerSymbolicName:"بناة_الغد",organizerSymbolicIcon:"Lantern",organizerIsVerified:!0,title:"مطبخ مجتمعي أسبوعي",description:"نقدم وجبات ساخنة ومغذية كل يوم ثلاثاء وخميس للمحتاجين. لا حاجة للتسجيل المسبق.",category:ct.Food,region:"بيروت",schedule:"الثلاثاء والخميس، 12:00 ظهراً - 2:00 عصراً",contactInfo:"اتصل على 01-555-123 لمزيد من المعلومات",timestamp:new Date(Date.now()-864e5*7)},{id:"res_2",organizerId:"user_gov_1",organizerSymbolicName:"دعم_وطن",organizerSymbolicIcon:"Anchor",organizerIsVerified:!0,title:"استشارات قانونية مجانية",description:"يقدم محامون متطوعون استشارات قانونية مجانية في قضايا الأحوال الشخصية والعمل أول جمعة من كل شهر.",category:ct.Legal,region:"كل المحافظات",schedule:"أول جمعة من كل شهر، 9:00 صباحاً - 1:00 ظهراً",contactInfo:"احجز موعدك عبر موقعنا الإلكتروني",timestamp:new Date(Date.now()-864e5*14)}],gl=[{id:"thread_1",honoreeUserId:"user_456",honoreeSymbolicName:"صوت_النور",honoreeSymbolicIcon:"Lantern",isAnonymous:!0,story:'عندما فقدت الأمل، وجدت هنا صوتاً يفهمني. لم أكن أبحث عن حلول، بل عن قلب يسمع. شكراً لـ "صوت_النور" على كلماته التي كانت كالشمعة في عتمتي.',color:fe.Amber,pattern:pe.Spirals,rippleTag:1,echoes:15,timestamp:new Date(Date.now()-864e5*5)},{id:"thread_2",honoreeUserId:"user_789",honoreeSymbolicName:"يد_العون",honoreeSymbolicIcon:"Flower",honoreeRealName:"فاطمة ك.",honoreePhotoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=100&auto=format&fit=crop",isAnonymous:!1,story:"لم أتردد لحظة في تقديم المساعدة. الدواء لم يكن مجرد علاج، بل كان رسالة حب وأمل. كلنا عائلة واحدة في هذا الوطن.",color:fe.Gold,pattern:pe.Lines,rippleTag:3,echoes:28,timestamp:new Date(Date.now()-864e5*10)}],Zt=({children:n})=>{const[e,t]=T.useState([]),[s,o]=T.useState([]),[r,i]=T.useState([]),[a,l]=T.useState([]),[c,u]=T.useState([]),[f,m]=T.useState([]),[x,v]=T.useState(!0),{user:b,addHopePoints:k,updateUser:L,getUserById:C,updateAnyUser:j,isFirebaseEnabled:N}=Se();T.useEffect(()=>{if(N){console.log("🔥 Initializing Firebase real-time data connections...");const w=[];return(async()=>{try{const g=await H(),p=g.subscribeToRequests(F=>{console.log("📝 Received requests from Firebase:",F.length),t(F)});w.push(p);const h=g.subscribeToEvents(F=>{console.log("🎉 Received events from Firebase:",F.length),u(F)});w.push(h);const S=g.subscribeToResources(F=>{console.log("📚 Received resources from Firebase:",F.length),m(F)});w.push(S);const _=g.subscribeToOfferings(F=>{console.log("🤝 Received offerings from Firebase:",F.length),o(F)});w.push(_);const V=g.subscribeToTapestryThreads(F=>{console.log("🧵 Received tapestry threads from Firebase:",F.length),l(F)});if(w.push(V),b){const F=g.subscribeToNotifications(Z=>{const Ce=Z.filter(ee=>ee.userId===b.id);console.log("🔔 Received notifications from Firebase:",Ce.length),i(Ce)});w.push(F)}v(!1)}catch(g){console.error("Failed to initialize Firebase listeners",g),v(!1)}})(),()=>{console.log("🧹 Cleaning up Firebase listeners..."),w.forEach(g=>g())}}else console.log("📦 Using demo/mock data (Firebase not available)"),setTimeout(()=>{t([...ml,...cl]),o(fl),l(gl),u([...pl,...ul]),m([...hl,...dl]),v(!1)},1e3)},[N,b]),T.useEffect(()=>{if(b&&!b.nominationStatus){const w={id:`notif_nomination_${b.id}`,userId:b.id,message:"DEPRECATED",messageKey:"notifications.nomination",timestamp:new Date,isRead:!1,type:"Nomination"};i(g=>g.find(p=>p.id===w.id)?g:[w,...g]),L({nominationStatus:"Nominated"})}},[b,L]);const O=async(w,g)=>{const p={...w,timestamp:new Date,userId:g.id,userSymbolicName:g.symbolicName,userSymbolicIcon:g.symbolicIcon,status:re.Open,isConfirmedByRequester:!1,requesterCommended:!1,helperCommended:!1};if(N){console.log("🔥 Creating request in Firebase...");try{await(await H()).createRequest(p)?console.log("✅ Request created successfully in Firebase"):console.error("❌ Failed to create request in Firebase")}catch(h){console.error("Error creating request in Firebase:",h)}}else{const h={...p,id:`req_${Date.now()}`};t(S=>[h,...S])}},M=async(w,g)=>{const p={...w,timestamp:new Date,organizerId:g.id,organizerSymbolicName:g.symbolicName,organizerSymbolicIcon:g.symbolicIcon,organizerRole:g.role,organizerIsVerified:g.isVerified};if(N){console.log("🔥 Creating event in Firebase...");try{await(await H()).createEvent(p)?console.log("✅ Event created successfully in Firebase"):console.error("❌ Failed to create event in Firebase")}catch(h){console.error("Error creating event in Firebase:",h)}}else{const h={...p,id:`evt_${Date.now()}`};u(S=>[h,...S])}},$=async(w,g)=>{const p={...w,timestamp:new Date,organizerId:g.id,organizerSymbolicName:g.symbolicName,organizerSymbolicIcon:g.symbolicIcon,organizerIsVerified:g.isVerified};if(N){console.log("🔥 Creating resource in Firebase...");try{await(await H()).createResource(p)?console.log("✅ Resource created successfully in Firebase"):console.error("❌ Failed to create resource in Firebase")}catch(h){console.error("Error creating resource in Firebase:",h)}}else{const h={...p,id:`res_${Date.now()}`};m(S=>[h,...S])}},P=async(w,g)=>{const p={...w,timestamp:new Date,userId:g};if(N){console.log("🔥 Creating offering in Firebase...");try{await(await H()).createOffering(p)?console.log("✅ Offering created successfully in Firebase"):console.error("❌ Failed to create offering in Firebase")}catch(S){console.error("Error creating offering in Firebase:",S)}}else{const S={...p,id:`offering_${Date.now()}`};o(_=>[S,..._])}w.type==="Encouragement"&&k(w.pointsEarned,X.VoiceOfCompassion);const h=e.find(S=>S.id===w.requestId);if(h&&h.userId!==g){const S={id:`notif_${Date.now()}`,userId:h.userId,requestId:h.id,message:"DEPRECATED",messageKey:"notifications.encouragement",messageOptions:{title:h.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};if(N)try{await(await H()).createNotification(S)}catch(_){console.error("Failed to create notification",_)}else i(_=>[S,..._])}},E=async w=>{const g={...w,timestamp:new Date};if(N)try{return await(await H()).addTapestryThread(g)}catch(p){return console.error("Error adding tapestry thread to Firebase:",p),null}else{const p={...g,id:`thread_${Date.now()}`};return l(h=>[p,...h]),p.id}},R=(w,g)=>{const p=e.find(S=>S.id===w),h=b;if(N)(async()=>{try{const S=await H();if(await S.updateRequest(w,{status:re.Pending,helperId:g}),p&&h){const _={id:`notif_${Date.now()}_help_offer`,userId:p.userId,requestId:p.id,message:"DEPRECATED",messageKey:"notifications.helpOffer",messageOptions:{name:h.symbolicName,title:p.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};await S.createNotification(_)}}catch(S){console.error("initiateHelp firebase error",S)}})();else if(t(S=>S.map(_=>_.id===w?{..._,status:re.Pending,helperId:g}:_)),p&&h){const S={id:`notif_${Date.now()}_help_offer`,userId:p.userId,requestId:p.id,message:"DEPRECATED",messageKey:"notifications.helpOffer",messageOptions:{name:h.symbolicName,title:p.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};i(_=>[S,..._])}},I=w=>{const g=e.find(p=>p.id===w);if(N)(async()=>{try{const p=await H();if(await p.updateRequest(w,{isConfirmedByRequester:!0}),g&&g.helperId){const h={id:`notif_${Date.now()}_help_confirm`,userId:g.helperId,requestId:g.id,message:"DEPRECATED",messageKey:"notifications.receiptConfirm",messageOptions:{title:g.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};await p.createNotification(h)}}catch(p){console.error("confirmReceipt firebase error",p)}})();else if(t(p=>p.map(h=>h.id===w?{...h,isConfirmedByRequester:!0}:h)),g&&g.helperId){const p={id:`notif_${Date.now()}_help_confirm`,userId:g.helperId,requestId:g.id,message:"DEPRECATED",messageKey:"notifications.receiptConfirm",messageOptions:{title:g.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};i(h=>[p,...h])}},U=async(w,g)=>{const p=e.find(h=>h.id===w);if(N)try{const h=await H();if(await h.updateRequest(w,{status:re.Fulfilled,helperId:g}),p&&p.userId!==g){const S={id:`notif_${Date.now()}_fulfill`,userId:p.userId,requestId:p.id,message:"DEPRECATED",messageKey:"notifications.fulfillment",messageOptions:{title:p.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};await h.createNotification(S)}}catch(h){console.error("fulfillRequest firebase error",h)}else if(t(h=>h.map(S=>S.id===w?{...S,status:re.Fulfilled,helperId:g}:S)),p&&p.userId!==g){const h={id:`notif_${Date.now()}_fulfill`,userId:p.userId,requestId:p.id,message:"DEPRECATED",messageKey:"notifications.fulfillment",messageOptions:{title:p.title.substring(0,20)},timestamp:new Date,isRead:!1,type:"Generic"};i(S=>[h,...S])}},z=w=>{const g=r.filter(p=>p.userId===w).sort((p,h)=>h.timestamp.getTime()-p.timestamp.getTime());return g.length>0||N&&(async()=>{try{const h=await(await H()).getUserNotifications(w);h&&h.length&&i(h)}catch(p){console.error("Error fetching notifications for user:",p)}})(),g},W=w=>{i(g=>g.map(p=>p.id===w?{...p,isRead:!0}:p)),N&&(async()=>{try{await(await H()).updateNotification(w,{isRead:!0})}catch(g){console.error("markAsRead firebase error",g)}})()},G=(w,g,p)=>{if(b)if(g==="Reveal"&&p)if(N)(async()=>{try{const h=await H();await h.updateUser(b.id,{nominationStatus:"AcceptedReveal",realName:p.realName,photoUrl:p.photoUrl});const S={id:`thread_${Date.now()}`,honoreeUserId:w,honoreeSymbolicName:b.symbolicName,honoreeSymbolicIcon:b.symbolicIcon,honoreeRealName:p.realName,honoreePhotoUrl:p.photoUrl,isAnonymous:!1,story:q.t("tapestry.story.revealed"),color:fe.Gold,pattern:pe.Lines,rippleTag:5,echoes:0,timestamp:new Date};await h.addTapestryThread(S)}catch(h){console.error("acceptNomination(reveal) firebase error",h)}})();else{L({nominationStatus:"AcceptedReveal",realName:p.realName,photoUrl:p.photoUrl});const h={id:`thread_${Date.now()}`,honoreeUserId:w,honoreeSymbolicName:b.symbolicName,honoreeSymbolicIcon:b.symbolicIcon,honoreeRealName:p.realName,honoreePhotoUrl:p.photoUrl,isAnonymous:!1,story:q.t("tapestry.story.revealed"),color:fe.Gold,pattern:pe.Lines,rippleTag:5,echoes:0,timestamp:new Date};l(S=>[h,...S])}else if(N)(async()=>{try{const h=await H();await h.updateUser(b.id,{nominationStatus:"AcceptedAnonymous"});const S={id:`thread_${Date.now()}`,honoreeUserId:w,honoreeSymbolicName:b.symbolicName,honoreeSymbolicIcon:b.symbolicIcon,isAnonymous:!0,story:q.t("tapestry.story.anonymous"),color:fe.Blue,pattern:pe.Spirals,rippleTag:3,echoes:0,timestamp:new Date};await h.addTapestryThread(S)}catch(h){console.error("acceptNomination(anon) firebase error",h)}})();else{L({nominationStatus:"AcceptedAnonymous"});const h={id:`thread_${Date.now()}`,honoreeUserId:w,honoreeSymbolicName:b.symbolicName,honoreeSymbolicIcon:b.symbolicIcon,isAnonymous:!0,story:q.t("tapestry.story.anonymous"),color:fe.Blue,pattern:pe.Spirals,rippleTag:3,echoes:0,timestamp:new Date};l(S=>[h,...S])}},Q=w=>{const g=a.find(h=>h.id===w);if(!g)return;const p=g.echoes+1;l(h=>h.map(S=>S.id===w?{...S,echoes:p}:S)),N&&(async()=>{try{await(await H()).updateTapestryThread(w,{echoes:p})}catch(h){console.error("echoThread firebase error",h)}})()},ge=async w=>{if(!b)return{success:!1,messageKey:"scanner.error.notLoggedIn"};if(b.id===w)return{success:!1,messageKey:"scanner.error.selfGift"};const g=new Date;if(g.setHours(0,0,0,0),b.lastPointGivenTimestamp&&b.lastPointGivenTimestamp>=g.getTime())return{success:!1,messageKey:"scanner.error.alreadyGiven"};let p=C(w);if(N)try{const V=await(await H()).getUser(w);V&&(p=V)}catch(_){console.error("Error fetching receiver:",_)}if(!p)return{success:!1,messageKey:"scanner.error.userNotFound"};const h={hopePoints:(p.hopePoints||0)+1,hopePointsBreakdown:{...p.hopePointsBreakdown||{},[X.CommunityGift]:(p.hopePointsBreakdown&&p.hopePointsBreakdown[X.CommunityGift]||0)+1}},S={hopePoints:(b.hopePoints||0)+1,hopePointsBreakdown:{...b.hopePointsBreakdown||{},[X.CommunityGift]:(b.hopePointsBreakdown&&b.hopePointsBreakdown[X.CommunityGift]||0)+1},lastPointGivenTimestamp:Date.now()};if(N)try{const _=await H();await _.updateUser(w,h),await _.updateUser(b.id,S);const V={id:`notif_${Date.now()}_gift`,userId:w,message:"DEPRECATED",messageKey:"notifications.dailyGift",timestamp:new Date,isRead:!1,type:"Generic"};return await _.createNotification(V),L(S),{success:!0,messageKey:"scanner.success.giftSent",receiverName:p.symbolicName}}catch(_){return console.error("Error applying daily point via Firebase:",_),{success:!1,messageKey:"scanner.error.server"}}else{const _={...p,hopePoints:(p.hopePoints||0)+1,hopePointsBreakdown:{...p.hopePointsBreakdown||{},[X.CommunityGift]:(p.hopePointsBreakdown&&p.hopePointsBreakdown[X.CommunityGift]||0)+1}};j(_);const V={...b,hopePoints:(b.hopePoints||0)+1,hopePointsBreakdown:{...b.hopePointsBreakdown||{},[X.CommunityGift]:(b.hopePointsBreakdown&&b.hopePointsBreakdown[X.CommunityGift]||0)+1},lastPointGivenTimestamp:Date.now()};return L(V),{success:!0,messageKey:"scanner.success.giftSent",receiverName:p.symbolicName}}},Y=w=>{const g=e.find(p=>p.id===w);if(g)return g;N&&(async()=>{try{const h=await(await H()).getRequests();h&&h.length&&t(h)}catch(p){console.error("Error fetching request by id:",p)}})()},A=w=>{const g=s.filter(p=>p.requestId===w).sort((p,h)=>h.timestamp.getTime()-p.timestamp.getTime());return g.length>0||N&&(async()=>{try{const h=await(await H()).getOfferingsForRequest(w);h&&h.length&&o(S=>{const _=new Set(S.map(F=>F.id)),V=[...S];return h.forEach(F=>{_.has(F.id)||V.push(F)}),V.sort((F,Z)=>Z.timestamp.getTime()-F.timestamp.getTime())})}catch(p){console.error("Error fetching offerings for request:",p)}})(),g},K=(w,g,p)=>{const h=e.find(_=>_.id===w);if(!h)return;const S=g==="requester"?h.helperId:h.userId;if(S)if(N)(async()=>{try{const _=await H(),V=await _.getUser(S);if(!V)return;const F={...V.commendations||{}};p.forEach(Z=>{F[Z]=(F[Z]||0)+1}),await _.updateUser(S,{commendations:F}),g==="requester"?await _.updateRequest(w,{requesterCommended:!0}):await _.updateRequest(w,{helperCommended:!0})}catch(_){console.error("Error leaving commendation via Firebase:",_)}})();else{const _=C(S);if(!_)return;const V={..._.commendations};p.forEach(F=>{V[F]=(V[F]||0)+1}),j({..._,commendations:V}),t(F=>F.map(Z=>Z.id===w?{...Z,...g==="requester"&&{requesterCommended:!0},...g==="helper"&&{helperCommended:!0}}:Z))}},me=async(w,g,p,h,S,_=1)=>{if(!N)return{success:!1};try{const{enhancedFirebaseService:V}=await ue(async()=>{const{enhancedFirebaseService:Z}=await import("./firebase-enhanced-DlSyj2fS.js");return{enhancedFirebaseService:Z}},__vite__mapDeps([4,3,2,0,1,5,6,7,8,9]),import.meta.url);return{success:(await V.recordHopePoints(w,g,p,h,S,_)).success}}catch(V){return console.error("Error recording hope points wrapper",V),{success:!1}}},je=async w=>{try{const g=[];return g.push({id:"create_request",title:q.t("createRequest.title"),subtitle:q.t("createRequest.subtitle"),action:"createRequest"}),c&&c.length>0&&g.push({id:"view_events",title:q.t("sanctuary.tiles.events"),subtitle:q.t("sanctuary.tiles.eventsSub"),action:"viewEvents"}),a&&a.length>0&&g.push({id:"view_tapestry",title:q.t("tapestry.title"),subtitle:q.t("tapestry.subtitle"),action:"viewTapestry"}),g}catch{return[]}},Fn=(w,g)=>{if(!w)return()=>{};let p=()=>{};if(N)(async()=>{try{p=(await H()).subscribeToUser(w,S=>{if(!S)return;const _=S.pillars||S.hopePointsBreakdown||{};g(_)})}catch(h){console.error("subscribeToUserPillars error",h)}})();else{const h=C(w);h&&g(h.pillars||h.hopePointsBreakdown||{})}return()=>{try{p()}catch{}}},Mn=async w=>{try{const g=[],p=r.slice(0,10).map(_=>({id:_.id,text:_.messageKey?q.t(_.messageKey,_.messageOptions||{}):_.message||""}));g.push(...p);const h=a.slice(0,5).map(_=>{var V;return{id:_.id,text:(V=_.story)==null?void 0:V.slice(0,120)}});g.push(...h);const S=e.slice(0,5).map(_=>({id:_.id,text:_.title}));return g.push(...S),g.slice(0,10)}catch{return[]}},qn=async(w,g)=>{if(!b)return{success:!1,messageKey:"scanner.error.notLoggedIn"};let p=C(w);if(N)try{const _=await(await H()).getUser(w);_&&(p=_)}catch(S){console.error("Error fetching receiver for encouragement:",S)}if(!p)return{success:!1,messageKey:"scanner.error.userNotFound"};const h={id:`notif_${Date.now()}_encourage`,userId:w,message:g,messageKey:void 0,timestamp:new Date,isRead:!1,type:"Generic"};if(N)try{const S=await H();return await S.createNotification(h),await S.updateUser(w,{hopePoints:(p.hopePoints||0)+1}),{success:!0}}catch(S){return console.error("Error sending encouragement via Firebase:",S),{success:!1,messageKey:"scanner.error.server"}}else{const S={...p,hopePoints:(p.hopePoints||0)+1};return j(S),i(_=>[h,..._]),{success:!0}}},Un=async w=>{if(!b)return{success:!1,messageKey:"scanner.error.notLoggedIn"};try{const g=new Date;if(g.setHours(0,0,0,0),b.lastRitualTimestamp&&b.lastRitualTimestamp>=g.getTime())return{success:!1,messageKey:"scanner.error.alreadyGiven"};const p={hopePoints:(b.hopePoints||0)+1,hopePointsBreakdown:{...b.hopePointsBreakdown||{},[X.Ritual]:(b.hopePointsBreakdown&&b.hopePointsBreakdown[X.Ritual]||0)+1},lastRitualTimestamp:Date.now()},h={userId:b.id,timestamp:new Date().toISOString(),prompt:(w==null?void 0:w.prompt)||void 0,locale:typeof navigator<"u"&&navigator.language?navigator.language:b.preferredLanguage||"en",userAgent:typeof navigator<"u"&&navigator.userAgent||""};if(N)try{const{getFunctions:S,httpsCallable:_}=await ue(async()=>{const{getFunctions:ye,httpsCallable:Bn}=await import("./index.esm-CYoZbgto.js");return{getFunctions:ye,httpsCallable:Bn}},__vite__mapDeps([10,2]),import.meta.url),V=S(),F=_(V,"awardRitual"),Z={prompt:w==null?void 0:w.prompt},Ce=await F(Z),ee=Ce&&Ce.data;if(ee&&ee.success){if(ee.newHopePoints||ee.newBreakdown){const ye={};typeof ee.newHopePoints=="number"&&(ye.hopePoints=ee.newHopePoints),ee.newBreakdown&&(ye.hopePointsBreakdown=ee.newBreakdown),ye.lastRitualTimestamp=Date.now(),L(ye)}else L(p);return{success:!0,messageKey:"ritual.success"}}else return console.warn("awardRitual returned unexpected payload",ee),{success:!1,messageKey:"ritual.error"}}catch(S){const _=(S==null?void 0:S.code)||(S==null?void 0:S.status)||null;return _==="failed-precondition"||_==="already-completed"?{success:!1,messageKey:"scanner.error.alreadyGiven"}:(console.error("Failed to call awardRitual:",S),{success:!1,messageKey:"ritual.error"})}return L(p),{success:!0,messageKey:"ritual.success"}}catch(g){return console.error("Error giving ritual point",g),{success:!1,messageKey:"ritual.error"}}},Vn=async w=>{if(!N)return null;try{const{enhancedFirebaseService:g}=await ue(async()=>{const{enhancedFirebaseService:h}=await import("./firebase-enhanced-DlSyj2fS.js");return{enhancedFirebaseService:h}},__vite__mapDeps([4,3,2,0,1,5,6,7,8,9]),import.meta.url);try{if(typeof g.getPreaggregatedGlobal=="function"){const h=await g.getPreaggregatedGlobal();if(h&&h.success&&Array.isArray(h.data))return h.data.slice(0,(w==null?void 0:w.limit)||100)}}catch{}const p=await g.getLeaderboard(w);return p&&p.success?p.data||[]:null}catch(g){return console.error("Error fetching leaderboard",g),null}};return d.jsx(Tn.Provider,{value:{requests:e,offerings:s,addRequest:O,addOffering:P,fulfillRequest:U,notifications:r,getNotificationsForUser:z,markAsRead:W,loading:x,tapestryThreads:a,acceptNomination:G,echoThread:Q,initiateHelp:R,confirmReceipt:I,giveDailyPoint:ge,giveRitualPoint:Un,communityEvents:c,addCommunityEvent:M,getRequestById:Y,getOfferingsForRequest:A,resources:f,addResource:$,leaveCommendation:K,addTapestryThread:E,recordHopePoints:me,getLeaderboard:Vn,sendEncouragement:qn,getQuickActionsForUser:je,getRecentActivityForUser:Mn,subscribeToUserPillars:Fn},children:n})},Dn=()=>{const n=T.useContext(Tn);if(!n)throw new Error("useData must be used within a DataProvider");return n};try{Zt.displayName="DataProvider",Zt.__docgenInfo={description:"",displayName:"DataProvider",props:{}}}catch{}const yl=(n,e)=>{const t=Math.floor((new Date().getTime()-n.getTime())/1e3);if(t<5)return e("echoes.time.just_now");let s=t/31536e3;if(s>1){const r=Math.floor(s);return e("echoes.time.years_ago",{count:r})}if(s=t/2592e3,s>1){const r=Math.floor(s);return e("echoes.time.months_ago",{count:r})}if(s=t/86400,s>1){const r=Math.floor(s);return e("echoes.time.days_ago",{count:r})}if(s=t/3600,s>1){const r=Math.floor(s);return e("echoes.time.hours_ago",{count:r})}if(s=t/60,s>1){const r=Math.floor(s);return e("echoes.time.minutes_ago",{count:r})}const o=Math.floor(t);return e("echoes.time.seconds_ago",{count:o})},We=({name:n,className:e="w-6 h-6"})=>{switch(n){case"Star":return d.jsx(Xo,{className:e});case"Lantern":return d.jsx(tr,{className:e});case"Flower":return d.jsx(_o,{className:e});default:return d.jsx(fo,{className:e})}};try{We.displayName="SymbolIcon",We.__docgenInfo={description:"",displayName:"SymbolIcon",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},className:{defaultValue:{value:"w-6 h-6"},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const mt=({alt:n="Mitché Logo",className:e="",sizes:t})=>{const s="/optimized/awardlogo";return d.jsxs("picture",{className:e,children:[d.jsx("source",{type:"image/avif",srcSet:`${s}-64.avif 64w, ${s}-160.avif 160w, ${s}-320.avif 320w`,sizes:t}),d.jsx("source",{type:"image/webp",srcSet:`${s}-64.webp 64w, ${s}-160.webp 160w, ${s}-320.webp 320w`,sizes:t}),d.jsx("img",{src:`${s}-160.png`,alt:n,width:160,height:160,loading:"eager"})]})};try{mt.displayName="ResponsiveLogo",mt.__docgenInfo={description:"",displayName:"ResponsiveLogo",props:{alt:{defaultValue:{value:"Mitché Logo"},description:"",name:"alt",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},sizes:{defaultValue:null,description:"",name:"sizes",required:!1,type:{name:"string"}}}}}catch{}const Xt=["#7DD3FC","#FBBF24","#C084FC","#34D399","#FDBA74"],ft=({breakdown:n={},size:e=140})=>{const s=["anchor","bridge","symbol","dialog","transpersonal"].map((f,m)=>{const x=n[f]??n[Object.keys(n||{})[m]]??0;return Math.max(0,Number(x||0))}),o=s.reduce((f,m)=>f+m,0),r=Math.max(1,...s,o/5||1),i=y.useId(),a={x:e/2,y:e/2},l=e*.36,c=e*.26,u=(f,m)=>{const x=f*Math.PI/180,v=a.x+Math.cos(x)*(l*.55),b=a.y+Math.sin(x)*(l*.55),k=a.x+Math.cos(x)*l,L=a.y+Math.sin(x)*l,C=x+Math.PI/2,j=c,N=v+Math.cos(C)*j,O=b+Math.sin(C)*j,M=v-Math.cos(C)*j,$=b-Math.sin(C)*j,P=l*(.12+.75*(1-m)),E=a.x+Math.cos(x)*P,R=a.y+Math.sin(x)*P;return`M ${N} ${O} Q ${k} ${L} ${M} ${$} L ${E} ${R} Z`};return d.jsx("div",{className:"flex items-center justify-center",children:d.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,role:"img","aria-labelledby":`constellation-${i}`,children:[d.jsx("title",{id:`constellation-${i}`,children:"Personal Constellation Flower"}),d.jsx("defs",{children:d.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{stdDeviation:"6",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),s.map((f,m)=>{const x=-90+m*360/s.length,v=Math.min(1,f/r),b=Xt[m%Xt.length];return d.jsxs("g",{transform:"translate(0,0)",children:[d.jsx("path",{d:u(x,0),fill:`${b}33`,stroke:"none"}),d.jsx("path",{d:u(x,v),fill:b,stroke:"none",filter:"url(#glow)",opacity:.95})]},m)}),d.jsxs("g",{children:[d.jsx("circle",{cx:a.x,cy:a.y,r:e*.14,fill:"#111827",opacity:.95}),d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:"#FDFDFD",fontSize:e*.12,fontWeight:700,children:o})]})]})})};try{ft.displayName="Constellation",ft.__docgenInfo={description:"",displayName:"Constellation",props:{breakdown:{defaultValue:{value:"{}"},description:"",name:"breakdown",required:!1,type:{name:"Record<string, number>"}},size:{defaultValue:{value:"140"},description:"",name:"size",required:!1,type:{name:"number"}}}}}catch{}const Ye=({isOpen:n,onClose:e,title:t,children:s})=>{const{t:o}=we();return n?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4",onClick:e,"aria-modal":"true",role:"dialog",children:d.jsxs("div",{className:"bg-white rounded-t-2xl sm:rounded-2xl shadow-xl w-full max-w-md sm:animate-fade-in-down animate-slide-in-up",onClick:r=>r.stopPropagation(),children:[d.jsxs("div",{className:"p-5 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2","aria-label":o("modal.close"),children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsx("div",{className:"p-6",children:s})]})}):null};try{Ye.displayName="Modal",Ye.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}const pt=({isOpen:n,onClose:e,user:t})=>{const{updateUser:s}=Se(),{t:o}=we(),[r,i]=T.useState(""),[a,l]=T.useState("");T.useEffect(()=>{t&&(i(t.bio||""),l(t.location||""))},[t,n]);const c=u=>{u.preventDefault();const f=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${t.id}`;s({bio:r,location:a,qrCodeUrl:f}),e()};return d.jsx(Ye,{isOpen:n,onClose:e,title:o("constellation.editProfile.title"),children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:o("constellation.editProfile.location")}),d.jsx("input",{type:"text",value:a,onChange:u=>l(u.target.value),className:"w-full px-4 py-2 bg-white border border-[#EAE2D6] rounded-lg focus:outline-none focus:ring-1 focus:ring-[#D4AF37]",placeholder:o("constellation.editProfile.locationPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:o("constellation.editProfile.bio")}),d.jsx("textarea",{value:r,onChange:u=>i(u.target.value),rows:4,className:"w-full px-4 py-2 bg-white border border-[#EAE2D6] rounded-lg focus:outline-none focus:ring-1 focus:ring-[#D4AF37]",placeholder:o("constellation.editProfile.bioPlaceholder")})]}),d.jsx("button",{type:"submit",className:"w-full mt-4 bg-[#D4AF37] text-white py-3 rounded-lg font-bold hover:bg-opacity-90",children:o("constellation.editProfile.save")})]})})};try{pt.displayName="EditProfileModal",pt.__docgenInfo={description:"",displayName:"EditProfileModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User"}}}}}catch{}const ht=()=>{const{user:n}=Se(),[e,t]=T.useState([]);return T.useEffect(()=>{if(!n)return;let s=()=>{};return(async()=>{try{const[{db:o},r]=await Promise.all([ue(()=>import("./firebase-CYVISPkl.js").then(a=>a.y),__vite__mapDeps([0,1,2,3]),import.meta.url),ue(()=>import("./index.esm-BqhvDsTW.js"),__vite__mapDeps([3,2]),import.meta.url)]),i=r.query(r.collection(o,"userAchievements"),r.where("userId","==",n.id),r.orderBy("completedAt","desc"));s=r.onSnapshot(i,async a=>{const l=a.docs.map(u=>({id:u.id,...u.data()})),c=await Promise.all(l.map(async u=>{try{const f=await r.getDoc(r.doc(o,"achievements",u.achievementId)),m=f.exists()?f.data():null;return{...u,meta:m}}catch{return u}}));t(c)})}catch(o){console.error("Failed to load firestore for AchievementsPanel",o)}})(),()=>s()},[n]),n?d.jsxs(ce,{children:[d.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Achievements"}),e.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"No achievements yet."}):d.jsx("div",{className:"space-y-2",children:e.map(s=>{var o,r,i,a;return d.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border",children:[(o=s.meta)!=null&&o.iconUrl?d.jsx("img",{src:s.meta.iconUrl,alt:((r=s.meta)==null?void 0:r.title)||s.achievementId,width:40,height:40,className:"w-10 h-10 rounded"}):d.jsx("div",{className:"w-10 h-10 rounded bg-amber-50 flex items-center justify-center text-amber-600",children:"🏅"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-semibold text-sm truncate",children:((i=s.meta)==null?void 0:i.title)||s.achievementId}),d.jsx("div",{className:"text-xs text-gray-500 truncate",children:((a=s.meta)==null?void 0:a.description)||""})]}),d.jsx("div",{className:"ml-auto text-xs text-gray-400",children:s.completedAt&&s.completedAt.toDate?s.completedAt.toDate().toLocaleString():s.completedAt||""})]},s.id)})})]}):null};try{ht.displayName="AchievementsPanel",ht.__docgenInfo={description:"",displayName:"AchievementsPanel",props:{}}}catch{}const vl="BDS15Y2fS-ImB30J6T05h1j7C_2VSeriHqhxCs2SCw1VGY23p1S2-bOOn2GfM1v3E0yQ7z-8o-U5h9yK4H110tI";function bl(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(t),o=new Uint8Array(s.length);for(let r=0;r<s.length;++r)o[r]=s.charCodeAt(r);return o}function xl(){return"serviceWorker"in navigator&&"PushManager"in window}async function wl(){return(await navigator.serviceWorker.ready).pushManager.getSubscription()}async function Sl(){const n=await navigator.serviceWorker.ready,e=await n.pushManager.getSubscription();if(e)return e;const t=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bl(vl)});return console.log("User is subscribed:",JSON.stringify(t)),t}async function Cl(){const e=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(e){const t=await e.unsubscribe();return console.log("User is unsubscribed."),t}return!1}const en={ar:{nativeName:"العربية"},en:{nativeName:"English"},fr:{nativeName:"Français"}},gt=()=>{const{i18n:n}=we(),e=n.resolvedLanguage||n.language||"en";return d.jsx("div",{className:"flex items-center justify-center space-x-2 rtl:space-x-reverse",children:Object.keys(en).map(t=>d.jsx("button",{type:"button",onClick:()=>n.changeLanguage(t),className:`text-sm px-3 py-1 rounded-full transition-colors font-semibold ${e===t?"bg-[#D4AF37] text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,"aria-label":`Switch language to ${t}`,children:en[t].nativeName},t))})};try{gt.displayName="LanguageSwitcher",gt.__docgenInfo={description:"",displayName:"LanguageSwitcher",props:{}}}catch{}const te=({icon:n,label:e,onClick:t,isDestructive:s,children:o})=>d.jsxs("div",{children:[d.jsxs("button",{onClick:t,className:`w-full flex items-center justify-between text-left p-3 rounded-lg bg-gray-50/50 hover:bg-gray-100 transition-colors duration-200 active:bg-gray-200 ${s?"text-red-600":"text-gray-700"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(n,{className:`w-5 h-5 mr-3 rtl:mr-0 rtl:ml-3 ${s?"text-red-500":"text-gray-500"}`}),d.jsx("span",{className:"font-semibold text-sm",children:e})]}),!s&&d.jsx(Eo,{className:"w-5 h-5 text-gray-400"})]}),o&&d.jsx("div",{className:"px-3 pb-2",children:o})]}),yt=({isOpen:n,onClose:e})=>{const{user:t,logout:s}=Se(),{t:o}=we(),r=St(),[i,a]=T.useState(null),[l,c]=T.useState(!1),[u,f]=T.useState(!1),[m,x]=T.useState(!1),[v,b]=T.useState(!1),[k,L]=T.useState(!1),[C,j]=T.useState(!0),[N,O]=T.useState(null);T.useEffect(()=>{const A=window.matchMedia("(display-mode: standalone)").matches;A&&c(!0);const K=je=>{je.preventDefault(),A||a(je)},me=()=>{a(null),c(!0)};return window.addEventListener("beforeinstallprompt",K),window.addEventListener("appinstalled",me),()=>{window.removeEventListener("beforeinstallprompt",K),window.removeEventListener("appinstalled",me)}},[]),T.useEffect(()=>{const A=()=>x(!0);return window.addEventListener("mitche.openQr",A),()=>window.removeEventListener("mitche.openQr",A)},[]),T.useEffect(()=>{xl()?(b(!0),wl().then(A=>{L(!!A),j(!1)})):j(!1)},[]);const M=async()=>{i&&(i.prompt(),await i.userChoice)},$=async()=>{j(!0),k?(await Cl(),L(!1)):await Notification.requestPermission()==="granted"&&(await Sl(),L(!0)),j(!1)},P=async()=>{if(O(null),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){O({message:o("constellation.cameraNotSupported"),type:"error"}),setTimeout(()=>O(null),4e3);return}try{const A=await navigator.mediaDevices.getUserMedia({video:!0});O({message:o("constellation.cameraAccessGranted"),type:"success"}),A.getTracks().forEach(K=>K.stop())}catch(A){console.error("Camera access denied:",A),O({message:o("constellation.cameraAccessDenied"),type:"error"})}setTimeout(()=>O(null),4e3)},E=A=>{e(),r(A)},{giveDailyPoint:R,sendEncouragement:I,communityEvents:U,requests:z}=Dn(),W=async()=>{if(!t)return;const A=await R(t.id);A&&A.success?(O({message:o("scanner.success.giftSent",{name:A.receiverName||t.symbolicName}),type:"success"}),setTimeout(()=>O(null),3e3)):(O({message:o(A.messageKey||"scanner.error.server"),type:"error"}),setTimeout(()=>O(null),3e3))},G=async()=>{if(!t)return;const A=o("profile.motivate.defaultMessage","Keep going — you are not alone!"),K=await I(t.id,A);K&&K.success?(O({message:o("profile.motivate.sent"),type:"success"}),setTimeout(()=>O(null),3e3)):(O({message:o(K.messageKey||"scanner.error.server"),type:"error"}),setTimeout(()=>O(null),3e3))};if(!t)return null;const Q=t.role===D.NGO||t.role===D.PublicWorker,ge=[D.Admin,D.NGO,D.PublicWorker].includes(t.role),Y=i&&!l;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 bg-black/40 z-40 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),d.jsx("div",{className:`fixed top-0 right-0 rtl:right-auto rtl:left-0 h-full w-full max-w-sm bg-[#FBF9F4] shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full rtl:-translate-x-full"}`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("header",{className:"flex-shrink-0 p-4 border-b border-[#F1EADF] flex justify-between items-center",children:[d.jsxs("h2",{className:"font-bold text-gray-700 text-lg flex items-center gap-2",children:[d.jsx(We,{name:t.symbolicIcon,className:"w-6 h-6 text-gray-600"}),t.symbolicName]}),d.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200/50",children:d.jsx(Rn,{className:"w-5 h-5 text-gray-600"})})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[d.jsxs(ce,{children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm bg-gray-100 text-gray-600 font-semibold inline-block px-3 py-1 rounded-full",children:o(`roles.${t.role}`)}),t.isVerified&&d.jsxs("p",{className:"mt-2 text-xs font-bold text-blue-600 flex items-center justify-center gap-1",children:[d.jsx(nt,{size:14})," ",o("verifiedOrg")]}),Q&&t.verificationStatus!=="Approved"&&d.jsxs("div",{className:`mt-2 text-xs font-bold p-2 rounded-md flex items-center justify-center gap-1 ${t.verificationStatus==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[d.jsx(jo,{size:14})," ",t.verificationStatus==="Pending"?o("profile.verificationPending"):o("profile.verificationRejected")]}),d.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center space-y-2",children:[t.location&&d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx(Ot,{className:"w-4 h-4 text-gray-400"}),d.jsx("span",{children:t.location})]}),t.bio&&d.jsxs("p",{className:"italic px-4",children:['"',t.bio,'"']})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-around items-center text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:o("constellation.personalConstellation")}),d.jsx(ft,{breakdown:t.hopePointsBreakdown,size:110})]}),t.qrCodeUrl&&d.jsx("div",{className:"border-l my-[-1rem] mx-2"}),t.qrCodeUrl&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:o("constellation.showQrCode")}),d.jsx("button",{onClick:()=>x(!0),className:"inline-flex items-center justify-center gap-2 text-2xl my-1 p-2 rounded-full text-[#D4AF37] bg-amber-50 hover:bg-amber-100 transition-colors",children:d.jsx(En,{className:"w-6 h-6"})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:W,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-green-600 text-white rounded-lg font-bold hover:bg-opacity-90 transition-colors text-sm shadow-sm active:scale-95",children:[d.jsx(Wo,{className:"w-4 h-4"})," ",o("profile.giveDaily","Give daily Hope Point")]}),d.jsxs("button",{onClick:G,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-blue-600 text-white rounded-lg font-bold hover:bg-opacity-90 transition-colors text-sm shadow-sm active:scale-95",children:[d.jsx(it,{className:"w-4 h-4"})," ",o("profile.motivate","Motivate")]})]}),d.jsxs(ce,{children:[d.jsx("h3",{className:"font-bold text-gray-700 mb-3",children:o("profile.yourEvents","Your Events")}),d.jsxs("div",{className:"space-y-2",children:[U.filter(A=>A.organizerId===t.id).map(A=>d.jsxs("div",{className:"p-2 border rounded flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:A.title}),d.jsx("div",{className:"text-xs text-gray-500",children:A.region})]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>E(`/events/${A.id}`),className:"px-2 py-1 bg-gray-100 rounded text-sm",children:o("open","Open")})})]},A.id)),U.filter(A=>A.organizerId===t.id).length===0&&d.jsx("div",{className:"text-xs text-gray-500",children:o("profile.noEvents","No events yet")})]})]}),d.jsxs(ce,{children:[d.jsx("h3",{className:"font-bold text-gray-700 mb-3",children:o("profile.yourRequests","Your Requests")}),d.jsxs("div",{className:"space-y-2",children:[z.filter(A=>A.userId===t.id).map(A=>d.jsxs("div",{className:"p-2 border rounded flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:A.title}),d.jsx("div",{className:"text-xs text-gray-500",children:A.region})]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>E(`/echoes/${A.id}`),className:"px-2 py-1 bg-gray-100 rounded text-sm",children:o("open","Open")})})]},A.id)),z.filter(A=>A.userId===t.id).length===0&&d.jsx("div",{className:"text-xs text-gray-500",children:o("profile.noRequests","No requests yet")})]})]}),t.commendations&&Object.keys(t.commendations).length>0&&d.jsxs(ce,{children:[d.jsx("h3",{className:"font-bold text-gray-700 mb-3",children:o("commendations.title")}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.commendations).map(([A,K])=>d.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r from-amber-50 to-white text-amber-700 text-sm font-semibold shadow-sm",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),o(`commendations.types.${A}`),d.jsx("span",{className:"ml-2 text-xs text-gray-600 bg-white rounded-full px-2 py-0.5",children:K})]},A))})]}),t.badges&&t.badges.length>0&&d.jsxs(ce,{children:[d.jsx("h3",{className:"font-bold text-gray-700 mb-3",children:o("achievements.title","Accolades & Badges")}),d.jsx("div",{className:"flex flex-wrap gap-2",children:t.badges.map(A=>d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r from-white to-amber-50 text-amber-700 text-sm font-semibold shadow-sm",children:[d.jsx("img",{src:`/badges/${A}.png`,alt:A,width:20,height:20,className:"w-5 h-5 rounded-full",onError:K=>{K.target.style.display="none"}}),A]},A))})]}),d.jsx(ht,{}),d.jsxs("button",{onClick:()=>E("/scanner"),className:"w-full flex items-center justify-center py-3 px-4 bg-[#D4AF37] text-white rounded-lg font-bold hover:bg-opacity-90 transition-colors text-md shadow-sm active:scale-95",children:[d.jsx(Go,{className:"w-5 h-5 mx-2"})," ",o("constellation.scanToGiveHope")]}),d.jsx(ce,{className:"!p-2",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(te,{icon:Bo,label:o("constellation.editProfile.title"),onClick:()=>f(!0)}),d.jsx(te,{icon:ho,label:o("constellation.awardNominations"),onClick:()=>E("/nomination")}),d.jsx(te,{icon:nt,label:o("constellation.privacySettings")}),d.jsx(te,{icon:Ot,label:o("search.advanced","Advanced Search"),onClick:()=>E("/search")})]})}),d.jsx(ce,{className:"!p-2",children:d.jsxs("div",{className:"space-y-1",children:[t.role===D.Admin&&d.jsx(te,{icon:nt,label:o("nav.admin","Admin"),onClick:()=>E("/admin")}),v&&d.jsx(te,{icon:k?yo:rt,label:o(C?"constellation.notifications.loading":k?"constellation.notifications.disable":"constellation.notifications.enable"),onClick:$}),Y&&d.jsx(te,{icon:ko,label:o("constellation.installApp"),onClick:M}),d.jsx(te,{icon:No,label:o("constellation.accessCamera"),onClick:P,children:N&&d.jsx("div",{className:`mt-1 p-2 text-xs rounded-md text-center animate-fade-in-down ${N.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:N.message})}),ge&&d.jsx(te,{icon:it,label:o("analytics.title","Analytics"),onClick:()=>E("/analytics")}),d.jsx(te,{icon:To,label:o("constellation.logout"),onClick:s,isDestructive:!0})]})}),d.jsx("div",{className:"pt-2",children:d.jsx(gt,{})})]})]})}),d.jsx(pt,{isOpen:u,onClose:()=>f(!1),user:t}),d.jsx(Ye,{isOpen:m,onClose:()=>x(!1),title:o("constellation.qrCodeTitle"),children:d.jsx("div",{className:"flex flex-col items-center justify-center p-4",children:t.qrCodeUrl?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t.qrCodeUrl,alt:o("constellation.qrCodeTitle"),className:"w-48 h-48"}),d.jsx("p",{className:"text-xs text-gray-500 mt-4",children:o("constellation.qrCodeDesc",{name:t.symbolicName})})]}):d.jsx("p",{className:"text-gray-500",children:o("constellation.qrCodeMissing")})})})]})};try{yt.displayName="ProfilePanel",yt.__docgenInfo={description:"",displayName:"ProfilePanel",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const vt=()=>{const{user:n}=Se(),{getNotificationsForUser:e,markAsRead:t}=Dn(),[s,o]=T.useState(!1),[r,i]=T.useState(!1),a=St(),{t:l}=we();if(!n)return null;const c=e(n.id),u=c.filter(v=>!v.isRead).length,f=()=>{o(!0)},m=v=>{v.isRead||t(v.id),o(!1),v.type==="Nomination"?a("/nomination"):v.requestId&&a(`/echoes/${v.requestId}`)},x=v=>v.messageKey?l(v.messageKey,v.messageOptions):v.message;return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"sticky top-0 bg-white/80 backdrop-blur-sm z-20 p-2 sm:p-4 flex justify-between items-center border-b",children:[d.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[d.jsx(mt,{className:"h-8 w-8"}),d.jsx("span",{className:"text-lg font-bold text-[#3A3A3A] hidden sm:inline",children:l("appName")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"relative",children:d.jsxs("button",{onClick:f,className:"relative p-2 rounded-full hover:bg-gray-200/50",children:[d.jsx(rt,{className:"w-6 h-6 text-gray-600"}),u>0&&d.jsx("span",{className:"absolute top-0 right-0 block h-4 w-4 rounded-full bg-red-500 text-white text-[10px] flex items-center justify-center ring-2 ring-[#FBF9F4]",children:u})]})}),(n.role==="Citizen"||n.role==="NGO"||n.role==="Admin")&&d.jsx("button",{onClick:()=>a("/tapestry"),title:l("tapestry.menu","Tapestry"),className:"p-2 rounded-full hover:bg-gray-200/50",children:d.jsx(xo,{className:"w-6 h-6 text-gray-600"})}),d.jsx("a",{href:"/ritual",className:"hidden sm:inline-flex items-center px-3 py-2 rounded-md bg-[var(--accent)] text-white text-sm",children:l("nav.ritual","Daily Ritual")}),d.jsx("button",{onClick:()=>{i(!0)},className:"p-2 rounded-full hover:bg-gray-200/50",children:d.jsx(We,{name:n.symbolicIcon,className:"w-6 h-6 text-gray-600"})}),d.jsx("button",{onClick:()=>{i(!0),window.dispatchEvent(new CustomEvent("mitche.openQr"))},title:l("constellation.showQrCode","Show QR"),className:"p-2 rounded-full hover:bg-gray-200/50",children:d.jsx(En,{className:"w-6 h-6 text-gray-600"})})]})]}),s&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex flex-col justify-end",onClick:()=>o(!1),children:d.jsxs("div",{className:"bg-[#FBF9F4] rounded-t-2xl shadow-xl animate-slide-in-up flex flex-col h-[85vh] max-h-[600px]",onClick:v=>v.stopPropagation(),children:[d.jsxs("header",{className:"flex-shrink-0 p-4 border-b border-[#F1EADF] flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold text-gray-700 text-lg",children:l("notifications.title")}),d.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-full hover:bg-gray-200/50",children:d.jsx(Rn,{className:"w-5 h-5 text-gray-600"})})]}),d.jsx("div",{className:"flex-grow overflow-y-auto",children:c.length>0?d.jsx("ul",{children:c.map(v=>d.jsxs("li",{onClick:()=>m(v),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${v.isRead?"":"bg-amber-50"}`,children:[d.jsx("p",{className:"text-sm text-gray-800",children:x(v)}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:yl(v.timestamp,l)})]},v.id))}):d.jsxs("div",{className:"h-full flex flex-col justify-center items-center text-center text-gray-500 px-6",children:[d.jsx(rt,{className:"w-12 h-12 text-gray-300 mb-4"}),d.jsx("p",{className:"font-semibold",children:l("notifications.empty")})]})})]})}),d.jsx(yt,{isOpen:r,onClose:()=>i(!1)})]})};try{vt.displayName="Header",vt.__docgenInfo={description:"",displayName:"Header",props:{}}}catch{}const Oe=()=>d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:bg-white focus:p-2 focus:rounded focus:shadow",children:"Skip to content"}),d.jsx(vt,{}),d.jsx("main",{id:"main-content",className:"flex-grow max-w-6xl mx-auto p-4",children:d.jsxs("div",{className:"grid-3",children:[d.jsx("aside",{className:"sidebar-profile",children:d.jsx(Lt,{context:{region:"sidebar"}})}),d.jsx("section",{children:d.jsx(Lt,{})}),d.jsx("aside",{className:"right-hero"})]})}),d.jsx("a",{className:"fab",href:"/echoes/new",title:"Create",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),d.jsx(dt,{})]});try{Oe.displayName="Layout",Oe.__docgenInfo={description:"",displayName:"Layout",props:{}}}catch{}const Nl={title:"Layout/Layout",component:Oe},ke=()=>d.jsx("div",{style:{height:"600px"},children:d.jsx(Oe,{})}),Le=()=>d.jsx("div",{style:{height:"600px"},children:d.jsx(Oe,{})});var tn,nn,sn;ke.parameters={...ke.parameters,docs:{...(tn=ke.parameters)==null?void 0:tn.docs,source:{originalSource:`() => <div style={{
  height: '600px'
}}>
    <Layout />
  </div>`,...(sn=(nn=ke.parameters)==null?void 0:nn.docs)==null?void 0:sn.source}}};var on,rn,an;Le.parameters={...Le.parameters,docs:{...(on=Le.parameters)==null?void 0:on.docs,source:{originalSource:`() => <div style={{
  height: '600px'
}}>
    <Layout />
  </div>`,...(an=(rn=Le.parameters)==null?void 0:rn.docs)==null?void 0:an.source}}};const Pl=["Default","WithFAB"],_l=Object.freeze(Object.defineProperty({__proto__:null,Default:ke,WithFAB:Le,__namedExportsOrder:Pl,default:Nl},Symbol.toStringTag,{value:"Module"}));export{_l as L,D as R};
